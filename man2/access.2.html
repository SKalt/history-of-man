<!--
-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML><HEAD><TITLE>Man page of ACCESS</TITLE>
</HEAD><BODY>
<H1>ACCESS</H1>
Section: Linux Programmer's Manual (2)<BR>Updated: 2004-06-23<BR><A HREF="#index">Index</A>
<A HREF="../index.html">Return to Main Contents</A><HR>

<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

access - check user's permissions for a file
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<PRE>
<B>#include &lt;<A HREF="file:///usr/include/unistd.h">unistd.h</A>&gt;</B>

<B>int access(const char *</B><I>pathname</I><B>, int </B><I>mode</I><B>);</B>
</PRE>

<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

<B>access</B>()

checks whether the process would be allowed to read,
write or test for existence of the file (or other file system
object) whose name is
<I>pathname</I>.

If
<I>pathname</I>

is a symbolic link permissions of the file referred to by this
symbolic link are tested.
<P>
<I>mode</I>

is a mask consisting of one or more of
<B>R_OK</B>, <B>W_OK</B>, <B>X_OK</B> and <B>F_OK</B>.

<P>
<B>R_OK</B>, <B>W_OK</B> and <B>X_OK</B>

request checking whether the file exists and has read, write and
execute permissions, respectively.
<B>F_OK</B>

just requests checking for the existence of the file.
<P>
The tests depend on the permissions of the directories
occurring in the path to the file, as given in
<I>pathname</I>,

and on the permissions of directories and files referred to by symbolic
links encountered on the way.
<P>
The check is done with the process's
<I>real</I>

UID and GID, rather than with the effective IDs as is done when
actually attempting an operation.
This is to allow set-user-ID programs to
easily determine the invoking user's authority.
<P>
Only access bits are checked, not the file type or contents.  Therefore, if
a directory is found to be &quot;writable,&quot; it probably means that files can be
created in the directory, and not that the directory can be written as a
file.  Similarly, a DOS file may be found to be &quot;executable,&quot; but the
<B><A HREF="../man2/execve.2.html">execve</A></B>(2)

call will still fail.
<P>
If the process has appropriate privileges, an implementation may
indicate success for
<B>X_OK</B>

even if none of the execute file permission bits are set. 
<A NAME="lbAE">&nbsp;</A>
<H2>RETURN VALUE</H2>

On success (all requested permissions granted), zero is returned.
On error (at least one bit in
<I>mode</I>

asked for a permission that is denied, or some other error occurred),
-1 is returned, and
<I>errno</I>

is set appropriately.
<A NAME="lbAF">&nbsp;</A>
<H2>ERRORS</H2>

<B>access</B>()

shall fail if:
<DL COMPACT>
<DT><B>EACCES</B>

<DD>
The requested access would be denied to the file or search permission
is denied for one of the directories in the path prefix of
<I>pathname</I>.

(See also
<B><A HREF="../man2/path_resolution.2.html">path_resolution</A></B>(2).)

<DT><B>ELOOP</B>

<DD>
Too many symbolic links were encountered in resolving
<I>pathname</I>.

<DT><B>ENAMETOOLONG</B>

<DD>
<I>pathname</I>

is too long.
<DT><B>ENOENT</B>

<DD>
A directory component in
<I>pathname</I>

would have been accessible but does not exist or was a dangling
symbolic link.
<DT><B>ENOTDIR</B>

<DD>
A component used as a directory in
<I>pathname</I>

is not, in fact, a directory.
<DT><B>EROFS</B>

<DD>
Write permission was requested for a file on a read-only filesystem.
</DL>
<P>

<B>access</B>()

may fail if:
<DL COMPACT>
<DT><B>EFAULT</B>

<DD>
<I>pathname</I>

points outside your accessible address space.
<DT><B>EINVAL</B>

<DD>
<I>mode</I>

was incorrectly specified.
<DT><B>EIO</B>

<DD>
An I/O error occurred.
<DT><B>ENOMEM</B>

<DD>
Insufficient kernel memory was available.
<DT><B>ETXTBSY</B>

<DD>
Write access was requested to an executable which is being
executed.
</DL>
<A NAME="lbAG">&nbsp;</A>
<H2>RESTRICTIONS</H2>

<B>access</B>()

returns an error if any of the access types in the requested call
fails, even if other types might be successful.
<P>

<B>access</B>()

may not work correctly on NFS file systems with UID mapping enabled,
because UID mapping is done on the server and hidden from the client,
which checks permissions.
<P>

Using
<B>access</B>()

to check if a user is authorized to e.g. open a file before actually
doing so using
<B><A HREF="../man2/open.2.html">open</A></B>(2)

creates a security hole, because the user might exploit the short time
interval between checking and opening the file to manipulate it.
<A NAME="lbAH">&nbsp;</A>
<H2>CONFORMING TO</H2>

SVID, AT&amp;T, POSIX, X/OPEN, 4.3BSD
<A NAME="lbAI">&nbsp;</A>
<H2>SEE ALSO</H2>

<B><A HREF="../man2/chmod.2.html">chmod</A></B>(2),

<B><A HREF="../man2/chown.2.html">chown</A></B>(2),

<B><A HREF="../man2/open.2.html">open</A></B>(2),

<B><A HREF="../man2/path_resolution.2.html">path_resolution</A></B>(2),

<B><A HREF="../man2/setgid.2.html">setgid</A></B>(2),

<B><A HREF="../man2/setuid.2.html">setuid</A></B>(2),

<B><A HREF="../man2/stat.2.html">stat</A></B>(2)

<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT><A HREF="#lbAE">RETURN VALUE</A><DD>
<DT><A HREF="#lbAF">ERRORS</A><DD>
<DT><A HREF="#lbAG">RESTRICTIONS</A><DD>
<DT><A HREF="#lbAH">CONFORMING TO</A><DD>
<DT><A HREF="#lbAI">SEE ALSO</A><DD>
</DL>
<HR>
This document was created by
<A HREF="http://localhost/cgi-bin/man/man2html">man2html</A>,
using the manual pages.<BR>
Time: 02:23:13 GMT, April 20, 2020
</BODY>
</HTML>
