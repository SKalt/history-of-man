<!--
Copyright (c) 1992 Drew Eckhardt (drew@cs.colorado.edu), March 28, 1992
-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML><HEAD><TITLE>Man page of FORK</TITLE>
</HEAD><BODY>
<H1>FORK</H1>
Section: Linux Programmer's Manual (2)<BR>Updated: 2004-05-27<BR><A HREF="#index">Index</A>
<A HREF="../index.html">Return to Main Contents</A><HR>

<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

fork - create a child process
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<B>#include &lt;<A HREF="file:///usr/include/sys/types.h">sys/types.h</A>&gt;</B>

<BR>

<B>#include &lt;<A HREF="file:///usr/include/unistd.h">unistd.h</A>&gt;</B>

<P>
<B>pid_t fork(void);</B>

<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

<B>fork</B>()

creates a child process that differs from the parent process only in its
PID and PPID, and in the fact that resource utilizations are set to 0.
File locks and pending signals are not inherited.
<P>

Under Linux,
<B>fork</B>()

is implemented using copy-on-write pages, so the only penalty that it incurs
is the time and memory required to duplicate the parent's page tables,
and to create a unique task structure for the child.
<A NAME="lbAE">&nbsp;</A>
<H2>RETURN VALUE</H2>

On success, the PID of the child process is returned in the parent's thread
of execution, and a 0 is returned in the child's thread of execution.  On
failure, a -1 will be returned in the parent's context, no child process
will be created, and
<I>errno</I>

will be set appropriately.
<A NAME="lbAF">&nbsp;</A>
<H2>ERRORS</H2>

<DL COMPACT>
<DT><B>EAGAIN</B>

<DD>
<B>fork</B>()

cannot allocate sufficient memory to copy the parent's page tables and
allocate a task structure for the child.
<DT><B>EAGAIN</B>

<DD>
It was not possible to create a new process because the caller's
<B>RLIMIT_NPROC</B>

resource limit was encountered.
To exceed this limit, the process must have either the
<B>CAP_SYS_ADMIN</B>

or the
<B>CAP_SYS_RESOURCE</B>

capability.
<DT><B>ENOMEM</B>

<DD>
<B>fork</B>()

failed to allocate the necessary kernel structures because memory is tight.
</DL>
<A NAME="lbAG">&nbsp;</A>
<H2>CONFORMING TO</H2>

The
<B>fork</B>()

call conforms to SVr4, SVID, POSIX, X/OPEN, 4.3BSD.
<A NAME="lbAH">&nbsp;</A>
<H2>EXAMPLE</H2>

See
<B><A HREF="../man2/pipe.2.html">pipe</A></B>(2)

and
<B><A HREF="../man2/wait.2.html">wait</A></B>(2).

<A NAME="lbAI">&nbsp;</A>
<H2>SEE ALSO</H2>

<B><A HREF="../man2/clone.2.html">clone</A></B>(2),

<B><A HREF="../man2/execve.2.html">execve</A></B>(2),

<B><A HREF="../man2/setrlimit.2.html">setrlimit</A></B>(2),

<B><A HREF="../man2/vfork.2.html">vfork</A></B>(2),

<B><A HREF="../man2/wait.2.html">wait</A></B>(2),

<B><A HREF="../man7/capabilities.7.html">capabilities</A></B>(7)

<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT><A HREF="#lbAE">RETURN VALUE</A><DD>
<DT><A HREF="#lbAF">ERRORS</A><DD>
<DT><A HREF="#lbAG">CONFORMING TO</A><DD>
<DT><A HREF="#lbAH">EXAMPLE</A><DD>
<DT><A HREF="#lbAI">SEE ALSO</A><DD>
</DL>
<HR>
This document was created by
<A HREF="http://localhost/cgi-bin/man/man2html">man2html</A>,
using the manual pages.<BR>
Time: 02:22:42 GMT, April 20, 2020
</BODY>
</HTML>
