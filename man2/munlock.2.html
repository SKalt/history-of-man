<!--
Copyright (C) Markus Kuhn, 1996
-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML><HEAD><TITLE>Man page of MUNLOCK</TITLE>
</HEAD><BODY>
<H1>MUNLOCK</H1>
Section: Linux Programmer's Manual (2)<BR>Updated: 2003-08-21<BR><A HREF="#index">Index</A>
<A HREF="../index.html">Return to Main Contents</A><HR>

<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

munlock - reenable paging for some parts of memory
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<PRE>
<B>#include &lt;<A HREF="file:///usr/include/sys/mman.h">sys/mman.h</A>&gt;</B>

<B>int munlock(const void *</B><I>addr</I><B>, size_t </B><I>len</I><B>);
</B></PRE>

<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

<B>munlock</B>

reenables paging for the memory in the range starting at
<I>addr</I>

with length
<I>len</I>

bytes. All pages which contain a part of the specified memory range
can after calling
<B>munlock</B>

be moved to external swap space again by the kernel.
<P>
Memory locks do not stack, i.e., pages which have been locked several times
by calls to
<B>mlock</B>

or
<B>mlockall</B>

will be unlocked by a single call to
<B>munlock</B>

for the corresponding range or by
<B>munlockall</B>.

Pages which are mapped to several locations or by several processes stay
locked into RAM as long as they are locked at least at one location or by
at least one process.
<P>
On POSIX systems on which
<B>mlock</B>

and
<B>munlock</B>

are available,
<B>_POSIX_MEMLOCK_RANGE</B>

is defined in &lt;<A HREF="file:///usr/include/unistd.h">unistd.h</A>&gt; and the value
<B>PAGESIZE</B>

from &lt;<A HREF="file:///usr/include/limits.h">limits.h</A>&gt; indicates the number of bytes per page.
<A NAME="lbAE">&nbsp;</A>
<H2>RETURN VALUE</H2>

On success,
<B>munlock</B>

returns zero.  On error, -1 is returned,
<I>errno</I>

is set appropriately, and no changes are made to any locks in the
address space of the process.
<A NAME="lbAF">&nbsp;</A>
<H2>ERRORS</H2>

<DL COMPACT>
<DT><B>EINVAL</B>

<DD>
(Not on Linux)
<I>addr</I>

was not a multiple of the page size.
<DT><B>ENOMEM</B>

<DD>
Some of the specified address range does not correspond to mapped
pages in the address space of the process.
</DL>
<P>

Linux adds
<DL COMPACT>
<DT><B>EINVAL</B>

<DD>
<I>len</I>

was negative.
</DL>
<A NAME="lbAG">&nbsp;</A>
<H2>CONFORMING TO</H2>

POSIX.1b, SVr4
<A NAME="lbAH">&nbsp;</A>
<H2>SEE ALSO</H2>

<B><A HREF="../man2/mlock.2.html">mlock</A></B>(2),

<B><A HREF="../man2/mlockall.2.html">mlockall</A></B>(2),

<B><A HREF="../man2/munlockall.2.html">munlockall</A></B>(2)

<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT><A HREF="#lbAE">RETURN VALUE</A><DD>
<DT><A HREF="#lbAF">ERRORS</A><DD>
<DT><A HREF="#lbAG">CONFORMING TO</A><DD>
<DT><A HREF="#lbAH">SEE ALSO</A><DD>
</DL>
<HR>
This document was created by
<A HREF="http://localhost/cgi-bin/man/man2html">man2html</A>,
using the manual pages.<BR>
Time: 02:10:00 GMT, April 20, 2020
</BODY>
</HTML>
