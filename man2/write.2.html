<!--
-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML><HEAD><TITLE>Man page of WRITE</TITLE>
</HEAD><BODY>
<H1>WRITE</H1>
Section: Linux Programmer's Manual (2)<BR>Updated: 2001-12-13<BR><A HREF="#index">Index</A>
<A HREF="../index.html">Return to Main Contents</A><HR>

<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

write - write to a file descriptor
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<B>#include &lt;<A HREF="file:///usr/include/unistd.h">unistd.h</A>&gt;</B>

<P>
<B>ssize_t write(int </B><I>fd</I><B>, const void *</B><I>buf</I><B>, size_t </B><I>count</I><B>);</B>

<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

<B>write</B>()

writes up to
<I>count</I>

bytes to the file referenced by the file descriptor
<I>fd</I>

from the buffer starting at
<I>buf</I>.

POSIX requires that a <B>read</B>() which can be proved to occur after a
<B>write</B>() has returned returns the new data.  Note that not all file
systems are POSIX conforming.
<A NAME="lbAE">&nbsp;</A>
<H2>RETURN VALUE</H2>

On success, the number of bytes written are returned (zero indicates
nothing was written).  On error, -1 is returned, and <I>errno</I> is set
appropriately.  If <I>count</I> is zero and the file descriptor refers to
a regular file, 0 will be returned without causing any other effect.
For a special file, the results are not portable.
<A NAME="lbAF">&nbsp;</A>
<H2>ERRORS</H2>

<DL COMPACT>
<DT><B>EAGAIN</B>

<DD>
Non-blocking I/O has been selected using
<B>O_NONBLOCK</B>

and the write would block.
<DT><B>EBADF</B>

<DD>
<I>fd</I>

is not a valid file descriptor or is not open for writing.
<DT><B>EFAULT</B>

<DD>
<I>buf</I>

is outside your accessible address space.
<DT><B>EFBIG</B>

<DD>
An attempt was made to write a file that exceeds the implementation-defined
maximum file size or the process' file size limit, or to write at a position
past than the maximum allowed offset.
<DT><B>EINTR</B>

<DD>
The call was interrupted by a signal before any data was written.
<DT><B>EINVAL</B>

<DD>
<I>fd</I>

is attached to an object which is unsuitable for writing;
or the file was opened with the 
<B>O_DIRECT</B>

flag, and either the address specified in
<I>buf</I>,

the value specified in
<I>count</I>,

or the current file offset is not suitably aligned.
<DT><B>EIO</B>

<DD>
A low-level I/O error occurred while modifying the inode.
<DT><B>ENOSPC</B>

<DD>
The device containing the file referred to by
<I>fd</I>

has no room for the data.
<DT><B>EPIPE</B>

<DD>
<I>fd</I>

is connected to a pipe or socket whose reading end is closed.  When this
happens the writing process will also receive a
<B>SIGPIPE</B>

signal.
(Thus, the write return value is seen only if the program
catches, blocks or ignores this signal.)
</DL>
<P>

Other errors may occur, depending on the object connected to
<I>fd</I>.

<A NAME="lbAG">&nbsp;</A>
<H2>CONFORMING TO</H2>

SVr4, SVID, POSIX, X/OPEN, 4.3BSD.  SVr4 documents additional error
conditions EDEADLK, ENOLCK, ENOLNK, ENOSR, ENXIO, or ERANGE.
Under SVr4 a write may be interrupted and return EINTR at any point,
not just before any data is written. 
<A NAME="lbAH">&nbsp;</A>
<H2>NOTES</H2>

A successful return from
<B>write</B>()

does not make any guarantee that data has been committed to disk.
In fact, on some buggy implementations, it does not even guarantee
that space has successfully been reserved for the data.
The only way to be sure is to call
<B><A HREF="../man2/fsync.2.html">fsync</A></B>(2)

after you are done writing all your data.
<A NAME="lbAI">&nbsp;</A>
<H2>SEE ALSO</H2>

<B><A HREF="../man2/close.2.html">close</A></B>(2),

<B><A HREF="../man2/fcntl.2.html">fcntl</A></B>(2),

<B><A HREF="../man2/fsync.2.html">fsync</A></B>(2),

<B><A HREF="../man2/ioctl.2.html">ioctl</A></B>(2),

<B><A HREF="../man2/lseek.2.html">lseek</A></B>(2),

<B><A HREF="../man2/open.2.html">open</A></B>(2),

<B><A HREF="../man2/pwrite.2.html">pwrite</A></B>(2),

<B><A HREF="../man2/read.2.html">read</A></B>(2),

<B><A HREF="../man2/select.2.html">select</A></B>(2),

<B><A HREF="../man3/fwrite.3.html">fwrite</A></B>(3),

<B><A HREF="../man3/writev.3.html">writev</A></B>(3)

<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT><A HREF="#lbAE">RETURN VALUE</A><DD>
<DT><A HREF="#lbAF">ERRORS</A><DD>
<DT><A HREF="#lbAG">CONFORMING TO</A><DD>
<DT><A HREF="#lbAH">NOTES</A><DD>
<DT><A HREF="#lbAI">SEE ALSO</A><DD>
</DL>
<HR>
This document was created by
<A HREF="http://localhost/cgi-bin/man/man2html">man2html</A>,
using the manual pages.<BR>
Time: 02:23:17 GMT, April 20, 2020
</BODY>
</HTML>
