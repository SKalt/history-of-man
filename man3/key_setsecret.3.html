<!--
-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML><HEAD><TITLE>Man page of KEY_SETSECRET</TITLE>
</HEAD><BODY>
<H1>KEY_SETSECRET</H1>
Section: C Library Functions (3)<BR>Updated: 2002-07-18<BR><A HREF="#index">Index</A>
<A HREF="../index.html">Return to Main Contents</A><HR>

<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

key_decryptsession, key_encryptsession, key_setsecret, key_gendes,
key_secretkey_is_set - interfaces to rpc keyserver daemon
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<P>
<B>#include &lt;<A HREF="file:///usr/include/rpc/rpc.h">rpc/rpc.h</A>&gt;</B>

<P>
<B>int key_decryptsession(const char *</B><I>remotename</I><B>,</B>

<B>des_block *</B><I>deskey</I><B>);</B>

<P>
<B>int key_encryptsession(const char *</B><I>remotename</I><B>,</B>

<B>des_block *</B><I>deskey</I><B>);</B>

<P>
<B>int key_gendes(des_block *</B><I>deskey</I><B>);</B>

<P>
<B>int key_setsecret(const char *</B><I>key</I><B>);</B>

<P>
<B>int key_secretkey_is_set(void);</B>

<P>
<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

The functions here are used within the RPC's secure authentication
mechanism (AUTH_DES). There should be no need for user programs to 
use this functions.
<P>
The function
<B>key_decryptsession</B>()

uses the (remote) server netname and takes the DES key 
for decrypting. It uses the public key of the server and the
secret key associated with the effective UID of the calling process.
<P>
The function
<B>key_encryptsession</B>()

is the inverse of
<B>key_decryptsession</B>().

It encrypts the DES keys with the public key of the server and
the secret key associated  with the effective UID of the calling process.
<P>
The function
<B>key_gendes</B>()

is used to ask the keyserver for a secure conversation key.
<P>
The function
<B>key_setsecret</B>()

is used to set the key for the effective UID of the calling process. 
<P>
The function
<B>key_secretkey_is_set</B>()

can be used to determine whether a key has been
set for the effective UID of the calling process.   
<P>
<A NAME="lbAE">&nbsp;</A>
<H2>NOTE</H2>

Please note that we talk about two types of encryption here. One is
asymmetric using a public and secret key. The other is symmetric, the 
64-bit DES.
<BR>

The routines were part of the linux/doors-project, abandoned by now.
<P>
<A NAME="lbAF">&nbsp;</A>
<H2>RETURN VALUES</H2>

The functions return 1 on success and 0 on failure.
<P>
<A NAME="lbAG">&nbsp;</A>
<H2>SEE ALSO</H2>

<B><A HREF="../man3/crypt.3.html">crypt</A></B>(3)

<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT><A HREF="#lbAE">NOTE</A><DD>
<DT><A HREF="#lbAF">RETURN VALUES</A><DD>
<DT><A HREF="#lbAG">SEE ALSO</A><DD>
</DL>
<HR>
This document was created by
<A HREF="http://localhost/cgi-bin/man/man2html">man2html</A>,
using the manual pages.<BR>
Time: 02:28:22 GMT, April 20, 2020
</BODY>
</HTML>
