<!--
Copyright (c) Bruno Haible &lt;haible@clisp.cons.org&gt;
%%%LICENSE_START(GPLv2+_DOC_ONEPARA)
This is free documentation; you can redistribute it and/or
modify it under the terms of the GNU General Public License as
published by the Free Software Foundation; either version 2 of
the License, or (at your option) any later version.
%%%LICENSE_END
-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML><HEAD><TITLE>Man page of MBLEN</TITLE>
</HEAD><BODY>
<H1>MBLEN</H1>
Section: Linux Programmer's Manual (3)<BR>Updated: 2013-06-21<BR><A HREF="#index">Index</A>
<A HREF="../index.html">Return to Main Contents</A><HR>

<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

mblen - determine number of bytes in next multibyte character
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<PRE>
<B>#include &lt;<A HREF="file:///usr/include/stdlib.h">stdlib.h</A>&gt;</B>

<B>int mblen(const char *</B><I>s</I><B>, size_t </B><I>n</I><B>);</B>
</PRE>

<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

If
<I>s</I>

is not NULL, the
<B>mblen</B>()

function inspects at most
<I>n</I>

bytes of the multibyte string starting at
<I>s</I>

and extracts the
next complete multibyte character.
It uses a static anonymous shift state known only to the
<B>mblen</B>()

function.
If the multibyte character is not the null wide
character, it returns the number of bytes that were consumed from
<I>s</I>.

If the multibyte character is the null wide character, it returns 0.
<P>

If the
<I>n</I>

bytes starting at
<I>s</I>

do not contain a complete multibyte
character,
<B>mblen</B>()

returns -1.
This can happen even if
<I>n</I>

is greater than or equal to
<I>MB_CUR_MAX</I>,

if the multibyte string contains redundant shift sequences.
<P>

If the multibyte string starting at
<I>s</I>

contains an invalid multibyte
sequence before the next complete character,
<B>mblen</B>()

also returns -1.
<P>

If
<I>s</I>

is NULL, the
<B>mblen</B>()

function


resets the shift state, known to only this function, to the initial state, and
returns nonzero if the encoding has nontrivial shift state, or zero if the
encoding is stateless.
<A NAME="lbAE">&nbsp;</A>
<H2>RETURN VALUE</H2>

The
<B>mblen</B>()

function returns the number of
bytes parsed from the multibyte
sequence starting at
<I>s</I>,

if a non-null wide character was recognized.
It returns 0, if a null wide character was recognized.
It returns -1, if an
invalid multibyte sequence was encountered or if it couldn't parse a complete
multibyte character.
<A NAME="lbAF">&nbsp;</A>
<H2>ATTRIBUTES</H2>

<A NAME="lbAG">&nbsp;</A>
<H3>Multithreading (see <A HREF="../man7/pthreads.7.html">pthreads</A>(7))</H3>

The
<B>mblen</B>()

function is not thread-safe.
<A NAME="lbAH">&nbsp;</A>
<H2>CONFORMING TO</H2>

C99.
<A NAME="lbAI">&nbsp;</A>
<H2>NOTES</H2>

The behavior of
<B>mblen</B>()

depends on the
<B>LC_CTYPE</B>

category of the
current locale.
<P>

The function
<B><A HREF="../man3/mbrlen.3.html">mbrlen</A></B>(3)

provides a better interface to the same
functionality.
<A NAME="lbAJ">&nbsp;</A>
<H2>SEE ALSO</H2>

<B><A HREF="../man3/mbrlen.3.html">mbrlen</A></B>(3)

<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT><A HREF="#lbAE">RETURN VALUE</A><DD>
<DT><A HREF="#lbAF">ATTRIBUTES</A><DD>
<DL>
<DT><A HREF="#lbAG">Multithreading (see pthreads(7))</A><DD>
</DL>
<DT><A HREF="#lbAH">CONFORMING TO</A><DD>
<DT><A HREF="#lbAI">NOTES</A><DD>
<DT><A HREF="#lbAJ">SEE ALSO</A><DD>
</DL>
<HR>
This document was created by
<A HREF="http://localhost/cgi-bin/man/man2html">man2html</A>,
using the manual pages.<BR>
Time: 03:32:45 GMT, April 20, 2020
</BODY>
</HTML>
