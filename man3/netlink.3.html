<!--
-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML><HEAD><TITLE>Man page of NETLINK</TITLE>
</HEAD><BODY>
<H1>NETLINK</H1>
Section: Linux Programmer's Manual (3)<BR>Updated: 1999-05-14<BR><A HREF="#index">Index</A>
<A HREF="../index.html">Return to Main Contents</A><HR>

<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

netlink - Netlink macros
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<PRE>
<B>#include &lt;<A HREF="file:///usr/include/asm/types.h">asm/types.h</A>&gt;</B>
<BR>
<B>#include &lt;<A HREF="file:///usr/include/linux/netlink.h">linux/netlink.h</A>&gt; </B>
<BR>
<B>int NLMSG_ALIGN(size_t </B><I>len</I><B>);</B>
<BR>
<B>int NLMSG_LENGTH(size_t </B><I>len</I><B>);</B>
<BR>
<B>int NLMSG_SPACE(size_t </B><I>len</I><B>);</B>
<BR>
<B>void *NLMSG_DATA(struct nlmsghdr *</B><I>nlh</I><B>);</B>
<BR>
<B>struct nlmsghdr *NLMSG_NEXT(struct nlmsghdr *</B><I>nlh</I><B>, int </B><I>len</I><B>);</B>
<BR>
<B>int NLMSG_OK(struct nlmsghdr *</B><I>nlh</I><B>, int </B><I>len</I><B>);</B>
<BR>
<B>int NLMSG_PAYLOAD(struct nlmsghdr *</B><I>nlh</I><B>, int </B><I>len</I><B>);</B>
</PRE>

<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

<I>&lt;<A HREF="file:///usr/include/linux/netlink.h">linux/netlink.h</A>&gt;</I>

defines several standard macros to access or create a netlink datagram.
They are similar in spirit to the macros defined in 
<B><A HREF="../man3/cmsg.3.html">cmsg</A></B>(3)

for auxiliary data. The buffer passed to and from a netlink socket should
be only accessed using these macros. 
<DL COMPACT>
<DT><DT>NLMSG_ALIGN<DD>
<DD>
Round the length of a netlink message up to align it properly.
<DT>NLMSG_LENGTH<DD>
Gets the payload length as argument and returns the aligned length to store
in the
<B>nlmsg_len</B>

field of the 
<I>nlmsghdr</I>.

<P>
<DT>NLMSG_SPACE<DD>
Return the number of bytes a netlink message with payload of the passed length 
would occupy.
<DT>NLMSG_DATA<DD>
Return a pointer to the payload associated with the passed 
<I>nlmsghdr</I>.

<DT>
<DD>
NLMSG_NEXT
Get the next 
<I>nlmsghdr</I>

in a multipart message. 
The caller must check if the current nlmsghdr didn't have the NLMSG_DONE 
set --- this function doesn't return NULL on end. 
The length parameter is an lvalue containing the remaining length 
of the message buffer. 
This macro decrements it by the length of the message header.
<DT>NLMSG_OK<DD>
Return true if the netlink message is not truncated and ok to parse. 
<DT>NLMSG_PAYLOAD<DD>
Return the length of the payload associated with the 
<I>nlmsghdr</I>.

<P>
</DL>
<A NAME="lbAE">&nbsp;</A>
<H2>NOTES</H2>

It is often better to use netlink via 
<B>libnetlink</B>

than via the low level kernel interface.
<P>
<A NAME="lbAF">&nbsp;</A>
<H2>SEE ALSO</H2>

<B><A HREF="../man7/netlink.7.html">netlink</A></B>(7)

<P>

and <A HREF="ftp://ftp.inr.ac.ru/ip-routing/iproute2*">ftp://ftp.inr.ac.ru/ip-routing/iproute2*</A> for libnetlink
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT><A HREF="#lbAE">NOTES</A><DD>
<DT><A HREF="#lbAF">SEE ALSO</A><DD>
</DL>
<HR>
This document was created by
<A HREF="http://localhost/cgi-bin/man/man2html">man2html</A>,
using the manual pages.<BR>
Time: 02:21:15 GMT, April 20, 2020
</BODY>
</HTML>
