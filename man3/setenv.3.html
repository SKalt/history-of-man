<!--
Copyright 1993 David Metcalfe (david@prism.demon.co.uk)
%%%LICENSE_START(VERBATIM)
Permission is granted to make and distribute verbatim copies of this
manual provided the copyright notice and this permission notice are
preserved on all copies.
.\"
Permission is granted to copy and distribute modified versions of this
manual under the conditions for verbatim copying, provided that the
entire resulting derived work is distributed under the terms of a
permission notice identical to this one.
.\"
Since the Linux kernel and libraries are constantly changing, this
manual page may be incorrect or out-of-date.  The author(s) assume no
responsibility for errors or omissions, or for damages resulting from
the use of the information contained herein.  The author(s) may not
have taken the same level of care in the production of this manual,
which is licensed free of charge, as they might when working
professionally.
.\"
Formatted or processed versions of this manual, if unaccompanied by
the source, must acknowledge the copyright and authors of this work.
%%%LICENSE_END
-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML><HEAD><TITLE>Man page of SETENV</TITLE>
</HEAD><BODY>
<H1>SETENV</H1>
Section: Linux Programmer's Manual (3)<BR>Updated: 2016-03-15<BR><A HREF="#index">Index</A>
<A HREF="../index.html">Return to Main Contents</A><HR>

<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

setenv - change or add an environment variable
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<PRE>
<B>#include &lt;<A HREF="file:///usr/include/stdlib.h">stdlib.h</A>&gt;</B>

<B>int setenv(const char *</B><I>name</I><B>, const char *</B><I>value</I><B>, int </B><I>overwrite</I><B>);</B>

<B>int unsetenv(const char *</B><I>name</I><B>);</B>
</PRE>

<P>

Feature Test Macro Requirements for glibc (see
<B><A HREF="../man7/feature_test_macros.7.html">feature_test_macros</A></B>(7)):


<P>

<B>setenv</B>(),

<B>unsetenv</B>():

<DL COMPACT><DT><DD>
_POSIX_C_SOURCE&nbsp;&gt;=&nbsp;200112L
<BR>&nbsp;&nbsp;&nbsp;&nbsp;||&nbsp;/*&nbsp;Glibc&nbsp;versions&nbsp;&lt;=&nbsp;2.19:&nbsp;*/&nbsp;_BSD_SOURCE
</DL>


<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

The
<B>setenv</B>()

function adds the variable
<I>name</I>

to the
environment with the value
<I>value</I>,

if
<I>name</I>

does not
already exist.
If
<I>name</I>

does exist in the environment, then
its value is changed to
<I>value</I>

if
<I>overwrite</I>

is nonzero;
if
<I>overwrite</I>

is zero, then the value of
<I>name</I>

is not changed (and
<B>setenv</B>()

returns a success status).
This function makes copies of the strings pointed to by
<I>name</I>

and
<I>value</I>

(by contrast with
<B><A HREF="../man3/putenv.3.html">putenv</A></B>(3)).

<P>

The
<B>unsetenv</B>()

function deletes the variable
<I>name</I>

from
the environment.
If
<I>name</I>

does not exist in the environment,
then the function succeeds, and the environment is unchanged.
<A NAME="lbAE">&nbsp;</A>
<H2>RETURN VALUE</H2>

The
<B>setenv</B>()

function returns zero on success,
or -1 on error, with
<I>errno</I>

set to indicate the cause of the error.
<P>
The
<B>unsetenv</B>()

function returns zero on success,
or -1 on error, with
<I>errno</I>

set to indicate the cause of the error.
<A NAME="lbAF">&nbsp;</A>
<H2>ERRORS</H2>

<DL COMPACT>
<DT><B>EINVAL</B>

<DD>
<I>name</I>

is NULL, points to a string of length 0,
or contains an '=' character.
<DT><B>ENOMEM</B>

<DD>
Insufficient memory to add a new variable to the environment.
</DL>
<A NAME="lbAG">&nbsp;</A>
<H2>ATTRIBUTES</H2>

For an explanation of the terms used in this section, see
<B><A HREF="../man7/attributes.7.html">attributes</A></B>(7).

<TABLE BORDER>
<TR VALIGN=top><TD><B>Interface</B></TD><TD><B>Attribute</B></TD><TD><B>Value</B><BR></TD></TR>
<TR VALIGN=top><TD>
<B>setenv</B>(),

<B>unsetenv</B>()

</TD><TD>Thread safety</TD><TD>MT-Unsafe const:env<BR></TD></TR>
</TABLE>

<A NAME="lbAH">&nbsp;</A>
<H2>CONFORMING TO</H2>

POSIX.1-2001, POSIX.1-2008, 4.3BSD.
<A NAME="lbAI">&nbsp;</A>
<H2>NOTES</H2>

POSIX.1 does not require
<B>setenv</B>()

or
<B>unsetenv</B>()

to be reentrant.
<P>
Prior to glibc 2.2.2,
<B>unsetenv</B>()

was prototyped
as returning
<I>void</I>;

more recent glibc versions follow the
POSIX.1-compliant prototype shown in the SYNOPSIS.
<A NAME="lbAJ">&nbsp;</A>
<H2>BUGS</H2>

POSIX.1 specifies that if
<I>name</I>

contains an '=' character, then
<B>setenv</B>()

should fail with the error
<B>EINVAL</B>;

however, versions of glibc before 2.3.4 allowed an '=' sign in
<I>name</I>.

<A NAME="lbAK">&nbsp;</A>
<H2>SEE ALSO</H2>

<B><A HREF="../man3/clearenv.3.html">clearenv</A></B>(3),

<B><A HREF="../man3/getenv.3.html">getenv</A></B>(3),

<B><A HREF="../man3/putenv.3.html">putenv</A></B>(3),

<B><A HREF="../man7/environ.7.html">environ</A></B>(7)

<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT><A HREF="#lbAE">RETURN VALUE</A><DD>
<DT><A HREF="#lbAF">ERRORS</A><DD>
<DT><A HREF="#lbAG">ATTRIBUTES</A><DD>
<DT><A HREF="#lbAH">CONFORMING TO</A><DD>
<DT><A HREF="#lbAI">NOTES</A><DD>
<DT><A HREF="#lbAJ">BUGS</A><DD>
<DT><A HREF="#lbAK">SEE ALSO</A><DD>
</DL>
<HR>
This document was created by
<A HREF="http://localhost/cgi-bin/man/man2html">man2html</A>,
using the manual pages.<BR>
Time: 03:43:04 GMT, April 20, 2020
</BODY>
</HTML>
