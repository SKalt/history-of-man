<!--
Copyright (c) Bruno Haible &lt;haible@clisp.cons.org&gt;
%%%LICENSE_START(GPLv2+_DOC_ONEPARA)
This is free documentation; you can redistribute it and/or
modify it under the terms of the GNU General Public License as
published by the Free Software Foundation; either version 2 of
the License, or (at your option) any later version.
%%%LICENSE_END
-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML><HEAD><TITLE>Man page of WCTOMB</TITLE>
</HEAD><BODY>
<H1>WCTOMB</H1>
Section: Linux Programmer's Manual (3)<BR>Updated: 2015-08-08<BR><A HREF="#index">Index</A>
<A HREF="../index.html">Return to Main Contents</A><HR>

<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

wctomb - convert a wide character to a multibyte sequence
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<PRE>
<B>#include &lt;<A HREF="file:///usr/include/stdlib.h">stdlib.h</A>&gt;</B>

<B>int wctomb(char *</B><I>s</I><B>, wchar_t </B><I>wc</I><B>);</B>
</PRE>

<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

If
<I>s</I>

is not NULL,
the
<B>wctomb</B>()

function converts the wide character
<I>wc</I>

to its multibyte representation and stores it at the beginning of
the character array pointed to by
<I>s</I>.

It updates the shift state, which
is stored in a static anonymous variable
known only to the
<B>wctomb</B>()

function,
and returns the length of said multibyte representation,
that is, the number of
bytes written at
<I>s</I>.

<P>

The programmer must ensure that there is
room for at least
<B>MB_CUR_MAX</B>

bytes at
<I>s</I>.

<P>

If
<I>s</I>

is NULL, the
<B>wctomb</B>()

function


resets the shift state, known only to this function,
to the initial state, and
returns nonzero if the encoding has nontrivial shift state,
or zero if the encoding is stateless.
<A NAME="lbAE">&nbsp;</A>
<H2>RETURN VALUE</H2>

If
<I>s</I>

is not NULL, the
<B>wctomb</B>()

function
returns the number of bytes
that have been written to the byte array at
<I>s</I>.

If
<I>wc</I>

can not be
represented as a multibyte sequence (according
to the current locale), -1 is returned.
<P>

If
<I>s</I>

is NULL, the
<B>wctomb</B>()

function returns nonzero if the
encoding has nontrivial shift state, or zero if the encoding is stateless.
<A NAME="lbAF">&nbsp;</A>
<H2>ATTRIBUTES</H2>

For an explanation of the terms used in this section, see
<B><A HREF="../man7/attributes.7.html">attributes</A></B>(7).

<TABLE BORDER>
<TR VALIGN=top><TD><B>Interface</B></TD><TD><B>Attribute</B></TD><TD><B>Value</B><BR></TD></TR>
<TR VALIGN=top><TD>
<B>wctomb</B>()

</TD><TD>Thread safety</TD><TD>MT-Unsafe race<BR></TD></TR>
</TABLE>

<A NAME="lbAG">&nbsp;</A>
<H2>CONFORMING TO</H2>

POSIX.1-2001, POSIX.1-2008, C99.
<A NAME="lbAH">&nbsp;</A>
<H2>NOTES</H2>

The behavior of
<B>wctomb</B>()

depends on the
<B>LC_CTYPE</B>

category of the
current locale.
<P>

The function
<B><A HREF="../man3/wcrtomb.3.html">wcrtomb</A></B>(3)

provides
a better interface to the same functionality.
<A NAME="lbAI">&nbsp;</A>
<H2>SEE ALSO</H2>

<B><A HREF="../man3/MB_CUR_MAX.3.html">MB_CUR_MAX</A></B>(3),

<B><A HREF="../man3/mblen.3.html">mblen</A></B>(3),

<B><A HREF="../man3/mbstowcs.3.html">mbstowcs</A></B>(3),

<B><A HREF="../man3/mbtowc.3.html">mbtowc</A></B>(3),

<B><A HREF="../man3/wcrtomb.3.html">wcrtomb</A></B>(3),

<B><A HREF="../man3/wcstombs.3.html">wcstombs</A></B>(3)

<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT><A HREF="#lbAE">RETURN VALUE</A><DD>
<DT><A HREF="#lbAF">ATTRIBUTES</A><DD>
<DT><A HREF="#lbAG">CONFORMING TO</A><DD>
<DT><A HREF="#lbAH">NOTES</A><DD>
<DT><A HREF="#lbAI">SEE ALSO</A><DD>
</DL>
<HR>
This document was created by
<A HREF="http://localhost/cgi-bin/man/man2html">man2html</A>,
using the manual pages.<BR>
Time: 03:49:14 GMT, April 20, 2020
</BODY>
</HTML>
