<!--
Copyright (c) 1990, 1993
%%%LICENSE_START(BSD_4_CLAUSE_UCB)
Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions
are met:
1. Redistributions of source code must retain the above copyright
   notice, this list of conditions and the following disclaimer.
2. Redistributions in binary form must reproduce the above copyright
   notice, this list of conditions and the following disclaimer in the
   documentation and/or other materials provided with the distribution.
3. All advertising materials mentioning features or use of this software
   must display the following acknowledgement:
.\"	This product includes software developed by the University of
.\"	California, Berkeley and its contributors.
4. Neither the name of the University nor the names of its contributors
   may be used to endorse or promote products derived from this software
   without specific prior written permission.
.\"
THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND
ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
SUCH DAMAGE.
%%%LICENSE_END
-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML><HEAD><TITLE>Man page of MDOC.SAMPLES</TITLE>
</HEAD><BODY>
<H1>MDOC.SAMPLES</H1>
Section: Environments, Tables, and Troff Macros (7)<BR><A HREF="#index">Index</A>
<A HREF="../index.html">Return to Main Contents</A><HR>
<BR>BSD mandoc<BR>


<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

<B>mdoc.samples</B>

 - tutorial sampler for writing

BSD manuals with
<B>-mdoc</B>

<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<B>man mdoc.samples</B>

<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

A tutorial sampler for writing
BSD manual pages with the
<B>-mdoc</B>

macro package, a
<I>content </I><B>-based</B>



and
<I>domain </I><B>-based</B>



formatting
package for
<A HREF="../man1/troff.1.html">troff</A>(1).


Its predecessor, the
-man7


package,
addressed page layout leaving the
manipulation of fonts and other
typesetting details to the individual author.
In
<B>-mdoc</B>

 
page layout macros
make up the
<I>page structure domain</I>

which consists of macros for titles, section headers, displays
and lists.
Essentially items which affect the physical position
of text on a formatted page.
In addition to the page structure domain, there are two more domains,
the manual domain and the general text domain.
The general text domain is defined as macros which
perform tasks such as quoting or emphasizing pieces of text.
The manual domain is defined as macros that are a subset of the
day to day informal language used to describe commands, routines
and related
BSD files.
Macros in the manual domain handle
command names, command-line arguments and options, function names,
function parameters, pathnames, variables, cross
references to other manual pages, and so on.
These domain
items have value
for both the author and the future user of the manual page.
It is hoped the consistency gained
across the manual set will provide easier
translation to future documentation tools.
<P>

Throughout the
UNIX
manual pages, a manual entry
is simply referred
to as a man page, regardless of actual length and without
sexist intention.
<A NAME="lbAE">&nbsp;</A>
<H2>GETTING STARTED</H2>

Since a tutorial document is normally read when a person
desires to use the material immediately, the assumption has
been made that the user of this document may be impatient.
The material presented in the remained of this document is
outlined as follows:
<OL><P>

<LI>

<B>TROFF IDIOSYNCRASIES</B>

<DL COMPACT>
<P>

<DT><B>&quot;Macro Usage&quot;</B>
<DD>
 
<DT><B>&quot;Passing Space Characters in an Argument&quot;</B>
<DD>
 
<DT><B>&quot;Trailing Blank Space Characters (a warning)&quot;</B>
<DD>
 
<DT><B>&quot;Escaping Special Characters&quot;</B>
<DD>
 
</DL>
<P>

<LI>

<B>THE ANATOMY OF A MAN PAGE</B>

<DL COMPACT>
<P>

<DT><B>&quot;A manual page template&quot;</B>
<DD>
 
</DL>
<P>

<LI>

<B>TITLE MACROS</B>

 
<LI>

<B>INTRODUCTION OF MANUAL AND GENERAL TEXT DOMAINS</B>

 
<DL COMPACT>
<P>

<DT><B>&quot;What's in a name...&quot;</B>
<DD>
 
<DT><B>&quot;General Syntax&quot;</B>
<DD>
 
</DL>
<P>

<LI>

<B>MANUAL DOMAIN</B>

<DL COMPACT>
<P>

<DT><B>&quot;Addresses&quot;</B>
<DD>
 
<DT><B>&quot;Author name&quot;</B>
<DD>
 
<DT><B>&quot;Arguments&quot;</B>
<DD>
 
<DT><B>&quot;Configuration Declarations (section four only)&quot;</B>
<DD>
 
<DT><B>&quot;Command Modifier&quot;</B>
<DD>
 
<DT><B>&quot;Defined Variables&quot;</B>
<DD>
 
<DT><B>&quot;Errno's (Section two only)&quot;</B>
<DD>
 
<DT><B>&quot;Environment Variables&quot;</B>
<DD>
 
<DT><B>&quot;Function Argument&quot;</B>
<DD>
 
<DT><B>&quot;Function Declaration&quot;</B>
<DD>
 
<DT><B>&quot;Flags&quot;</B>
<DD>
 
<DT><B>&quot;Functions (library routines)&quot;</B>
<DD>
 
<DT><B>&quot;Function Types&quot;</B>
<DD>
 

<DT><B>&quot;Interactive Commands&quot;</B>
<DD>
 
<DT><B>&quot;Names&quot;</B>
<DD>
 
<DT><B>&quot;Options&quot;</B>
<DD>
 
<DT><B>&quot;Pathnames&quot;</B>
<DD>
 
<DT><B>&quot;Variables&quot;</B>
<DD>
 
<DT><B>&quot;Cross References&quot;</B>
<DD>
 
</DL>
<P>

<LI>

<B>GENERAL TEXT DOMAIN</B>

<DL COMPACT>
<P>

<DT><B>&quot;AT&amp;T Macro&quot;</B>
<DD>
 
<DT><B>&quot;BSD Macro&quot;</B>
<DD>
 
<DT><B>&quot;FreeBSD Macro&quot;</B>
<DD>
 
<DT><B>&quot;UNIX Macro&quot;</B>
<DD>
 
<DT><B>&quot;Enclosure/Quoting Macros&quot;</B>
<DD>
<DL COMPACT>
<P>

<DT><B>&quot;Angle Bracket Quote/Enclosure&quot;</B>
<DD>
 
<DT><B>&quot;Bracket Quotes/Enclosure&quot;</B>
<DD>
 
<DT><B>&quot;Double Quote macro/Enclosure&quot;</B>
<DD>
 
<DT><B>&quot;Parenthesis Quote/Enclosure&quot;</B>
<DD>
 
<DT><B>&quot;Single Quotes/Enclosure&quot;</B>
<DD>
 
<DT><B>&quot;Prefix Macro&quot;</B>
<DD>
 
</DL>
<P>

<DT><B>&quot;No-</B>[or Normal Text Macro]


<DD>
 
<DT><B>&quot;Space Macro</B>


<DD>
 
<DT><B>&quot;Section Cross References&quot;</B>
<DD>
 
<DT><B>&quot;References and Citations&quot;</B>
<DD>
 
<DT><B>&quot;Return Values (sections two and three only)&quot;</B>
<DD>
<DT><B>&quot;Trade Names (Acronyms and Type Names)&quot;</B>
<DD>
 
<DT><B>&quot;Extended  Arguments&quot;</B>
<DD>
 
</DL>
<P>

<LI>

<B>PAGE STRUCTURE DOMAIN</B>

<DL COMPACT>
<P>

<DT><B>&quot;Section Headers&quot;</B>
<DD>
 
<DT><B>&quot;Paragraphs and Line Spacing&quot;</B>
<DD>
 
<DT><B>&quot;Keeps&quot;</B>
<DD>
 
<DT><B>&quot;Displays&quot;</B>
<DD>
 
<DT><B>&quot;Font Modes (Emphasis, Literal, and Symbolic)&quot;</B>
<DD>
 
<DT><B>&quot;Lists and Columns&quot;</B>
<DD>
 
</DL>
<P>

<LI>

<B>PREDEFINED STRINGS</B>

<LI>

<B>DIAGNOSTICS</B>

<LI>

<B>FORMATTING WITH GROFF, TROFF AND NROFF</B>

<LI>

<B>BUGS</B>

</OL><P>


<A NAME="lbAF">&nbsp;</A>
<H2>TROFF IDIOSYNCRASIES</H2>

The
<B>-mdoc</B>

package attempts to simplify the process of writing a man page.
Theoretically, one should not have to learn the dirty details of
<A HREF="../man1/troff.1.html">troff</A>(1)


to use
<B>-mdoc</B>

 
however, there are a few
limitations which are unavoidable and best gotten out
of the way.
And, too, be forewarned, this package is
<I>not</I>

fast.
<A NAME="lbAG">&nbsp;</A>
<H3>Macro Usage</H3>

As in
<A HREF="../man1/troff.1.html">troff</A>(1),


a macro is called by placing a
`.'

(dot character)
at the beginning of
a line followed by the two character name for the macro.
Arguments may follow the macro separated by spaces.
It is the dot character at the beginning of the line which causes
<A HREF="../man1/troff.1.html">troff</A>(1)


to interpret the next two characters as a macro name.
To place a
`.'

(dot character)
at the beginning of a line in some context other than
a macro invocation, precede the
`.'

(dot) with the
`\&amp;'

escape sequence.
The
`\&amp;'

translates literally to a zero width space, and is never displayed in the
output.
<P>

In general,
<A HREF="../man1/troff.1.html">troff</A>(1)


macros accept up to nine arguments, any
extra arguments are ignored.
Most macros in
<B>-mdoc</B>

accept nine arguments and,
in limited cases, arguments may be continued or extended
on the
next line (See
Sx Extensions ) .

A few macros handle quoted arguments (see
Sx Passing Space Characters in an Argument

below).
<P>

Most of the
<B>-mdoc</B>

general text domain and manual domain macros are special
in that their argument lists are
<I>parsed</I>

for callable macro names.
This means an argument on the argument list which matches
a general text or manual domain macro name and is determined
to be callable will be executed
or called when it is processed.
In this case,
the argument, although the name of a macro,
is not preceded by a
`.'

(dot).
It is in this manner that many macros are nested; for
example
the option macro,
`.[,]

'

may
<I>call</I>

the flag and argument macros,
`-

'

and
`<I>file ...</I>

'

 
to specify an optional flag with an argument:
<DL COMPACT>
<P>

<DT><B></B>[-<B>s </B><I>bytes</I>



]


<DD>
is produced by
<B>.</B>[-<B>s </B><I>bytes</I>



]



</DL>
<P>

<P>

To prevent a two character
string from being interpreted as a macro name, precede
the string with the
escape sequence
`\&amp;'

:
<DL COMPACT>
<P>

<DT><B></B>[-<B>s </B><I>bytes</I>



]


<DD>
is produced by
<B>.</B>[\&amp;-<B>s \&amp;</B><I>bytes</I>



]



</DL>
<P>

<P>

Here the strings
`-

'

and
`<I>file ...</I>

'

are
not interpreted as macros.
Macros whose argument lists are parsed for callable arguments
are referred to
as parsed and macros which may be called from an argument
list are referred to as callable
throughout this document and in the companion quick reference
manual
<A HREF="../man7/mdoc.7.html">mdoc</A>(7).


This is a technical
<I>faux pas</I>

as almost all of the macros in
<B>-mdoc</B>

are parsed, but as it was cumbersome to constantly refer to macros
as being callable and being able to call other macros,
the term parsed has been used.
<A NAME="lbAH">&nbsp;</A>
<H3>Passing Space Characters in an Argument</H3>

Sometimes it is desirable to give as one argument a string
containing one or more blank space characters.
This may be necessary
to defeat the nine argument limit or to specify arguments to macros
which expect particular arrangement of items in the argument list.
For example,
the function macro
`.Fn expects

'

the first argument to be the name of a function and any
remaining arguments to be function parameters.
As
<B>ANSI C</B>

stipulates the declaration of function parameters in the
parenthesized parameter list, each parameter is guaranteed
to be at minimum a two word string.
For example,
Fa int foo .

<P>

There are two possible ways to pass an argument which contains
an embedded space.
<I>Implementation note</I>

 
Unfortunately, the most convenient way
of passing spaces in between quotes by reassigning individual
arguments before parsing was fairly expensive speed wise
and space wise to implement in all the macros for
<B>AT&amp;T</B>

troff.


It is not expensive for
groff


but for the sake of portability, has been limited
to the following macros which need
it the most:
<P>

<DL COMPACT>
<P>

<DT><B>Configuration declaration (section 4</B>




<DD>
Sx SYNOPSIS )

<DT><B><DL COMPACT>
<P>

</B>


<DD>
Begin list (for the width specifier).
<DT><B></B><I>Emphasized text.</I>




<DD>
<DT><B>Fn </B>Functions (sections two and four).




<DD>
<DT><B><DT>List items.</B>
<DD>



<DD>
<DT><B>Literal text.</B>




<DD>
<DT><B>Symbolic text.</B>




<DD>
<DT><B>%B</B>


<DD>
Book titles.
<DT><B>%J</B>


<DD>
Journal names.
<DT><B>%O</B>


<DD>
Optional notes for a reference.
<DT><B>%R</B>


<DD>
Report title (in a reference).
<DT><B>%T</B>


<DD>
Title of article in a book or journal.
</DL>
<P>

<P>

One way of passing a string
containing blank spaces is to use the hard or unpaddable space character
`\<BR>&nbsp;,'

that is, a blank space preceded by the escape character
`\'

This method may be used with any macro but has the side effect
of interfering with the adjustment of text
over the length of a line.
Troff


sees the hard space as if it were any other printable character and
cannot split the string into blank or newline separated pieces as one
would expect.
The method is useful for strings which are not expected
to overlap a line boundary.
For example:
<DL COMPACT>
<P>

<DT><B>Fn </B>fetch char&nbsp;*str


<DD>
is created by
`.Fn fetch

'

char\ *str
<DT><B>Fn </B>fetch char *str


<DD>
can also be created by
`.Fn fetch

'

\*qchar *str\*q
</DL>
<P>

<P>

If the
`\'

or quotes
were omitted,
`.Fn would

'

see three arguments and
the result would be:
<P>


<BLOCKQUOTE><TT>Fn </TT>fetch char *str

</BLOCKQUOTE>
<P>

For an example of what happens when the parameter list overlaps
a newline boundary, see the
Sx BUGS

section.
</DL>
</DL>
<A NAME="lbAI">&nbsp;</A>
<H3>Trailing Blank Space Characters</H3>

Troff


can be confused by blank space characters at the end of a line.
It
is a wise preventive measure to globally remove all blank spaces
from &lt;blank-space&gt;&lt;end-of-line&gt; character sequences.
Should the need
arise to force a blank character at the end of a line,
it may be forced with an unpaddable space and the
`\&amp;'

escape character.
For example,
`string\\&amp; .'

<A NAME="lbAJ">&nbsp;</A>
<H3>Escaping Special Characters</H3>

Special characters
like the newline character
`\n'

,
are handled by replacing the
`\'

with
`\e'

(e.g.,
`\en'

)
to preserve
the backslash.
<A NAME="lbAK">&nbsp;</A>
<H2>THE ANATOMY OF A MAN PAGE</H2>

The body of a man page is easily constructed from a basic
template found in the file
/usr/share/misc/mdoc.template

 
Several example man pages can also be found
in
/usr/share/examples/mdoc

 
<P>

<A NAME="lbAL">&nbsp;</A>
<H3>A manual page template</H3>


<BLOCKQUOTE>
<PRE>
.\&quot; The following requests are required for all man pages.
.Dd Month day, year
.Os OPERATING_SYSTEM [version/release]
.Dt DOCUMENT_TITLE [section number] [volume]
.Sh NAME
.Nm name
.Nd one line description of name
.Sh SYNOPSIS
.Sh DESCRIPTION
.\&quot; The following requests should be uncommented and
.\&quot; used where appropriate.  This next request is
.\&quot; for sections 2 and 3 function return values only.
.\&quot; .Sh RETURN VALUE
.\&quot; This next request is for sections 1, 6, 7 &amp; 8 only
.\&quot; .Sh ENVIRONMENT
.\&quot; .Sh FILES
.\&quot; .Sh EXAMPLES
.\&quot; This next request is for sections 1, 6, 7 &amp; 8 only
.\&quot;     (command return values (to shell) and
.\&quot;       fprintf/stderr type diagnostics)
.\&quot; .Sh DIAGNOSTICS
.\&quot; The next request is for sections 2 and 3 error
.\&quot; and signal handling only.
.\&quot; .Sh ERRORS
.\&quot; .Sh SEE ALSO
.\&quot; .Sh CONFORMING TO
.\&quot; .Sh HISTORY
.\&quot; .Sh AUTHORS
.\&quot; .Sh BUGS
</PRE>
</BLOCKQUOTE>

<P>

The first items in the template are the macros
(<B>., ., .




</B>

)

 
the document date,
the operating system the man page or subject source is developed
or modified for,
and the man page title
(<I>in uppercase</I>

)

along with the section of the manual the page
belongs in.
These macros identify the page,
and are discussed below in
Sx TITLE MACROS .

<P>

The remaining items in the template are section headers
(<B>.</B><A NAME="lbAM">&nbsp;</A>
<H2>;</H2>



)

of which
Sx NAME ,

Sx SYNOPSIS

and
Sx DESCRIPTION

are mandatory.
The
headers are
discussed in
Sx PAGE STRUCTURE DOMAIN ,

after
presentation of
Sx MANUAL DOMAIN .

Several content macros are used to demonstrate page layout macros;
reading about content macros before page layout macros is
recommended.
<A NAME="lbAN">&nbsp;</A>
<H2>TITLE MACROS</H2>

The title macros are the first portion of the page structure
domain, but are presented first and separate for someone who
wishes to start writing a man page yesterday.
Three header macros designate the document title or manual page title,
the operating system,
and the date of authorship.
These macros are one called once at the very beginning of the document
and are used to construct the headers and footers only.
<DL COMPACT>
<P>

<DT><B>.
</B>


<DD>
The document title is the
subject of the man page and must be in
<B>CAPITALS</B>

due to troff
limitations.
The section number may be 1,&nbsp;...,&nbsp;8,
and if it is specified,
the volume title may be omitted.
A volume title may be arbitrary or one of the following:




<P>

<DL COMPACT>
<P>

<DT><B>AMD<TT>&nbsp;&nbsp;&nbsp;</TT>UNIX Ancestral Manual Documents</B>


<DD>
<DT><B>SMM<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>UNIX System Manager's Manual</B>


<DD>
<DT><B>URM<TT>&nbsp;&nbsp;&nbsp;</TT>UNIX Reference Manual</B>


<DD>
<DT><B>PRMUNIX Programmer's Manual</B>


<DD>
</DL>
<P>

<P>

The default volume labeling is<BR>
<B>URM</B>

for sections 1, 6, and 7;
<B>SMM</B>

for section 8;
<B>PRM</B>

for sections 2, 3, 4, and 5.






<DT><B>.operating_system release#

</B>


<DD>
The name of the operating system
should be the common acronym, for example,
<B>BSD</B>

or
<B>FreeBSD</B>

or
<B>ATT</B>

 
The release should be the standard release
nomenclature for the system specified, for example, 4.3, 4.3+Tahoe, V.3,
V.4.
Unrecognized arguments are displayed as given in the page footer.
For instance, a typical footer might be:
<P>


<BLOCKQUOTE><TT>.4.3BSD

</TT></BLOCKQUOTE>
<P>

or

<BLOCKQUOTE><TT>.FreeBSD 2.2

</TT></BLOCKQUOTE>
<P>

or for a locally produced set
<P>


<BLOCKQUOTE><TT>.CS Department

</TT></BLOCKQUOTE>
<P>

The Berkeley default,
`.without

'

an argument, has been defined as
<B>BSD</B>

in the
site-specific file
/usr/share/tmac/mdoc/doc-common

 
It really should default to
<B>LOCAL</B>

 
Note, if the
`.macro

'

is not present, the bottom left corner of the page
will be ugly.
<DT><B>.month day, year

</B>


<DD>
The date should be written formally:
<P>



<BLOCKQUOTE><TT>January 25, 1989</TT></BLOCKQUOTE>
</DL>
<P>

<A NAME="lbAO">&nbsp;</A>
<H2>INTRODUCTION OF MANUAL AND GENERAL TEXT DOMAINS</H2>

<A NAME="lbAP">&nbsp;</A>
<H3>What's in a name...</H3>

The manual domain macro names are derived from the day to day
informal language used to describe commands, subroutines and related
files.
Slightly different variations of this language are used to describe
the three different aspects of writing a man page.
First, there is the description of
<B>-mdoc</B>

macro request usage.
Second is the description of a
UNIX
command
<I>with</I>

<B>-mdoc</B>

macros and third,
the description of a command to a user in the verbal sense;
that is, discussion of a command in the text of a man page.
<P>

In the first case,
<A HREF="../man1/troff.1.html">troff</A>(1)


macros are themselves a type of command;
the general syntax for a troff command is:

<BLOCKQUOTE>

.Va argument1 argument2 ... argument9
</BLOCKQUOTE>

<P>

The
`.<I>is</I>

'

a macro command or request, and anything following it is an argument to
be processed.
In the second case,
the description of a
UNIX
command using the content macros is a
bit more involved;
a typical
Sx SYNOPSIS

command line might be displayed as:

<BLOCKQUOTE>

<B>filter</B>

[-<B>flag</B>

]

<I>infile outfile</I>

</BLOCKQUOTE>

<P>

Here,
<B>filter</B>

is the command name and the
bracketed string
-<B>flag</B>

is a
<I>flag</I>

argument designated as optional by the option brackets.
In
<B>-mdoc</B>

terms,
<I>infile</I>

and
<I>outfile</I>

are
called
<I>arguments</I>

 
The macros which formatted the above example:

<BLOCKQUOTE>
<PRE>
.Nm filter
.Op Fl flag
.Ar infile outfile
</PRE>
</BLOCKQUOTE>

<P>

In the third case, discussion of commands and command syntax
includes both examples above, but may add more detail.
The
arguments
<I>infile</I>

and
<I>outfile</I>

from the example above might be referred to as
<I>operands</I>

or
<I>file arguments</I>

 
Some command-line argument lists are quite long:
<DL COMPACT>
<P>

<DT><B>make</B>


<DD>
[-<B>eiknqrstv</B>

]

[-<B>D </B><I>variable</I>



]

[-<B>d </B><I>flags</I>



]

[-<B>f </B><I>makefile</I>



]

-words

[-<B>I </B><I>directory</I>



]

[-<B>j </B><I>max_jobs</I>



]



[<I>variable=value</I>

]

-words

[<I>target ...</I>

]

</DL>
<P>



<P>

Here one might talk about the command
<B>make</B>

and qualify the argument
<I>makefile</I>

 
as an argument to the flag,
-<B>f</B>

 
or discuss the optional
file
operand
<I>target</I>

 
In the verbal context, such detail can prevent confusion,
however the
<B>-mdoc</B>

package
does not have a macro for an argument
<I>to</I>

a flag.
Instead the
`<I>file ...</I>

'

argument
macro is used for an operand or file argument like
<I>target</I>

as well as an argument to a flag like
<I>variable</I>

 
The make command line was produced from:

<BLOCKQUOTE>
<PRE>
.Nm make
.Op Fl eiknqrstv
.Op Fl D Ar variable
.Op Fl d Ar flags
.Op Fl f Ar makefile
.Op Fl I Ar directory
.Op Fl j Ar max_jobs
.Op Ar variable=value
.Bk -words
.Op Ar target ...
.Ek
</PRE>
</BLOCKQUOTE>

<P>

The
`.and

'

`.macros

'

are explained in
Sx Keeps .

<A NAME="lbAQ">&nbsp;</A>
<H3>General Syntax</H3>

The manual domain and general text domain macros share a similar
syntax with a few minor deviations:
`.<I>file ...</I>

'

 
`.-

'

 
`.<B>man mdoc.samples</B>

'

 
and
`.differ

'

only when called without arguments;
`.Fn and

'

`.impose

'

an order on their argument lists
and the
`.[and]

'

`.Fn macros

'

have nesting limitations.
All content macros
are capable of recognizing and properly handling punctuation,
provided each punctuation character is separated by a leading space.
If a request is given:
<P>


<BLOCKQUOTE><TT>.</TT><B>sptr, ptr),</B>

</BLOCKQUOTE>
<P>

The result is:
<P>


<BLOCKQUOTE><TT></TT><B>sptr, ptr),</B>

</BLOCKQUOTE>
<P>

The punctuation is not recognized and all is output in the
literal font. If the punctuation is separated by a leading
white space:
<P>


<BLOCKQUOTE><TT>.</TT><B>sptr , ptr ) ,</B>

</BLOCKQUOTE>
<P>

The result is:
<P>


<BLOCKQUOTE><TT></TT><B>sptr , ptr</B>

 </BLOCKQUOTE>
 
<P>

The punctuation is now recognized and is output in the
default font distinguishing it from the strings in literal font.
<P>

To remove the special meaning from a punctuation character
escape it with
`\&amp;'

Troff


is limited as a macro language, and has difficulty
when presented with a string containing
a member of the mathematical, logical or
quotation set:

<BLOCKQUOTE>
<PRE>
{+,-,/,*,%,&lt;,&gt;,&lt;=,&gt;=,=,==,&amp;,`,',&quot;}
</PRE>
</BLOCKQUOTE>

<P>

The problem is that
troff


may assume it is supposed to actually perform the operation
or evaluation suggested by the characters.
To prevent the accidental evaluation of these characters,
escape them with
`\&amp;'

Typical syntax is shown in the first content macro displayed
below,
`.<I></I>

'

<A NAME="lbAR">&nbsp;</A>
<H2>MANUAL DOMAIN</H2>

<A NAME="lbAS">&nbsp;</A>
<H3>Address Macro</H3>

The address macro identifies an address construct
of the form addr1[,addr2[,addr3]].
<P>


<BLOCKQUOTE><TT>Usage: .</TT><I>address ... [ .,:;()[]?! ]</I>

</BLOCKQUOTE>
<DL COMPACT>
<P>

<DT><B>.</B><I>addr1</I>




<DD>
<I>addr1</I>

<DT><B>.</B><I>addr1</I>




<DD>
<I>addr1</I>

 
<DT><B>.</B><I>addr1&nbsp;, file2</I>




<DD>
<I>addr1 , file2</I>

<DT><B>.</B><I>f1&nbsp;, f2&nbsp;, f3:</I>




<DD>
<I>f1 , f2 , f3</I>

 
<DT><B>.</B><I>addr&nbsp;)&nbsp;),</I>




<DD>
<I>addr ) )</I>

 
</DL>
<P>

<P>

It is an error to call
`.<I>without</I>

'

arguments.
`.<I>is</I>

'

callable by other macros and is parsed.
<A NAME="lbAT">&nbsp;</A>
<H3>Author Name</H3>

The
`.An macro

'

is used to specify the name of the author of the item being
documented, or the name of the author of the actual manual page.
Any remaining arguments after the name information are assumed
to be punctuation.
<P>


<BLOCKQUOTE><TT>Usage: .An </TT>author_name [ .,:;()[]?! ]

</BLOCKQUOTE>
<DL COMPACT>
<P>

<DT><B>.An </B>Joe&nbsp;Author




<DD>
An Joe Author

<DT><B>.An </B>Joe&nbsp;Author,




<DD>
An Joe&nbsp;Author ,

<DT><B>.An </B>Joe&nbsp;Author&nbsp;Aq&nbsp;<A HREF="mailto:nobody@FreeBSD.ORG">nobody@FreeBSD.ORG</A>




<DD>
An Joe Author Aq <A HREF="mailto:nobody@FreeBSD.ORG">nobody@FreeBSD.ORG</A>

<DT><B>.An </B>Joe&nbsp;Author&nbsp;)&nbsp;),




<DD>
An Joe Author ) ) ,

</DL>
<P>

<P>

The
`.An macro

'

is parsed and is callable.
It is an error to call
`.An without

'

any arguments.
<A NAME="lbAU">&nbsp;</A>
<H3>Argument Macro</H3>

The
`.<I>file ...</I>

'

argument
macro may be used whenever
a command-line argument is referenced.
<P>


<BLOCKQUOTE><TT>Usage: .</TT><I>argument ... [ .,:;()[]?! ]</I>

</BLOCKQUOTE>
<DL COMPACT>
<P>

<DT><B>.</B><I>file ...</I>




<DD>
<I>file ...</I>


<DT><B>.</B><I>file1</I>




<DD>
<I>file1</I>

<DT><B>.</B><I>file1</I>




<DD>
<I>file1</I>

 
<DT><B>.</B><I>file1 file2</I>




<DD>
<I>file1 file2</I>

<DT><B>.</B><I>f1 f2 f3:</I>




<DD>
<I>f1 f2 f3</I>

 
<DT><B>.</B><I>file&nbsp;)&nbsp;),</I>




<DD>
<I>file ) )</I>

 
</DL>
<P>

<P>

If
`.<I>file ...</I>

'

is
called without arguments,
`<I>file ...</I>

'

is
assumed.
The
`.<I>file ...</I>

'

macro
is parsed and is callable.
<A NAME="lbAV">&nbsp;</A>
<H3>Configuration Declaration (section four only)</H3>

The
`.<B>macro</B>

'

is used to demonstrate a
<A HREF="../man8/config.8.html">config</A>(8)


declaration for a device interface in a section four manual.
This macro accepts quoted arguments (double quotes only).
<P>

<DL COMPACT>
<P>

<DT><B>device le0 at scode?</B>


<DD>
produced by:
`.<B>device</B>

'

le0 at scode? .
</DL>
<P>

<A NAME="lbAW">&nbsp;</A>
<H3>Command Modifier</H3>

The command modifier is identical to the
`.-

'

(flag)
command with the exception
the
`.<B>macro</B>

'

does not assert a dash
in front of every argument.
Traditionally flags are marked by the
preceding dash, some commands or subsets of commands do not use them.
Command modifiers may also be specified in conjunction with interactive
commands such as editor commands.
See
Sx Flags .

<A NAME="lbAX">&nbsp;</A>
<H3>Defined Variables</H3>

A variable which is defined in an include file is specified
by the macro
`.<B></B>

'

<P>


<BLOCKQUOTE><TT>Usage: .</TT><B>defined_variable ... [ .,:;()[]?! ]</B>

</BLOCKQUOTE>
<DL COMPACT>
<P>

<DT><B>.MAXHOSTNAMELEN</B>




<DD>
<B>MAXHOSTNAMELEN</B>

<DT><B>.TIOCGPGRP )</B>




<DD>
<B>TIOCGPGRP</B>

 
</DL>
<P>

<P>

It is an error to call
`.<B>without</B>

'

arguments.
`.<B>is</B>

'

parsed and is callable.
<A NAME="lbAY">&nbsp;</A>
<H3>Errno's (Section two only)</H3>

The
`.Er errno

'

macro specifies the error return value
for section two library routines.
The second example
below shows
`.Er used

'

with the
`.Bq general

'

text domain macro, as it would be used in
a section two manual page.
<P>


<BLOCKQUOTE><TT>Usage: .Er </TT>ERRNOTYPE ... [ .,:;()[]?! ]

</BLOCKQUOTE>
<DL COMPACT>
<P>

<DT><B>.Er </B>ENOENT




<DD>
Er ENOENT

<DT><B>.Er </B>ENOENT&nbsp;);




<DD>
Er ENOENT ) ;

<DT><B>.Bq </B>Er ENOTDIR






<DD>
Bq Er ENOTDIR

</DL>
<P>

<P>

It is an error to call
`.Er without

'

arguments.
The
`.Er macro

'

is parsed and is callable.
<A NAME="lbAZ">&nbsp;</A>
<H3>Environment Variables</H3>

The
`.<B>macro</B>

'

specifies an environment variable.
<P>


<BLOCKQUOTE><TT>Usage: .</TT><B>argument ... [ .,:;()[]?! ]</B>

</BLOCKQUOTE>
<DL COMPACT>
<P>

<DT><B>.DISPLAY</B>




<DD>
<B>DISPLAY</B>

<DT><B>.PATH</B>




<DD>
<B>PATH</B>

 
<DT><B>.PRINTER&nbsp;)&nbsp;),</B>




<DD>
<B>PRINTER ) )</B>

 
</DL>
<P>

<P>

It is an error to call
`.<B>without</B>

'

arguments.
The
`.<B>macro</B>

'

is parsed and is callable.
<A NAME="lbBA">&nbsp;</A>
<H3>Function Argument</H3>

The
`.Fa macro

'

is used to refer to function arguments (parameters)
outside of the
Sx SYNOPSIS

section of the manual or inside
the
Sx SYNOPSIS

section should a parameter list be too
long for the
`.Fn macro

'

and the enclosure macros
`.Fo and

'

`.Fc must

'

be used.
`.Fa may

'

also be used to refer to structure members.
<P>


<BLOCKQUOTE><TT>Usage: .Fa </TT>function_argument ... [ .,:;()[]?! ]

</BLOCKQUOTE>
<DL COMPACT>
<P>

<DT><B>.Fa </B>d_namlen&nbsp;)&nbsp;),




<DD>
Fa d_namlen ) ) ,

<DT><B>.Fa </B>iov_len




<DD>
Fa iov_len

</DL>
<P>

<P>

It is an error to call
`.Fa without

'

arguments.
`.Fa is

'

parsed and is callable.
<A NAME="lbBB">&nbsp;</A>
<H3>Function Declaration</H3>

The
`.Fd macro

'

is used in the
Sx SYNOPSIS

section with section two or three
functions.
The
`.Fd macro

'

does not call other macros and is not callable by other
macros.
<P>


<BLOCKQUOTE><TT>Usage: .Fd </TT>include_file (or defined variable)

</BLOCKQUOTE>
<P>

In the
Sx SYNOPSIS

section a
`.Fd request

'

causes a line break if a function has already been presented
and a break has not occurred.
This leaves a nice vertical space
in between the previous function call and the declaration for the
next function.
<A NAME="lbBC">&nbsp;</A>
<H3>Flags</H3>

The
`.-

'

macro
handles command-line flags.
It prepends
a dash,
`-'

,
to the flag.
For interactive command flags, which
are not prepended with a dash, the
`.<B>(command</B>

'

modifier)
macro is identical, but without the dash.
<P>


<BLOCKQUOTE><TT>Usage: .-</TT><B>argument ... [ .,:;()[]?! ]</B>

</BLOCKQUOTE>
<DL COMPACT>
<P>

<DT><B>.-

</B>


<DD>
-


<DT><B>.-cfv</B>




<DD>
-<B>cfv</B>

<DT><B>.-cfv</B>




<DD>
-<B>cfv</B>

 
<DT><B>.-s v t</B>




<DD>
-<B>s v t</B>

<DT><B>.--,</B>




<DD>
-<B>-</B>

 
<DT><B>.-xyz&nbsp;),</B>




<DD>
-<B>xyz )</B>

 
</DL>
<P>

<P>

The
`.-

'

macro
without any arguments results
in a dash representing <I>stdin</I>/<I>stdout</I>.
Note that giving
`.-

'

a
single dash, will result in two dashes.
The
`.-

'

macro
is parsed and is callable.
<A NAME="lbBD">&nbsp;</A>
<H3>Functions (library routines)</H3>

The .Fn macro is modeled on ANSI C conventions.

<PRE>
Usage: .Fn [type] function [[type] parameters ... [ .,:;()[]?! ]]
</PRE>

<DL COMPACT>
<P>

<DT><B>.Fn </B>getchar




<DD>
Fn getchar

<DT><B>.Fn </B>strlen ) ,




<DD>
Fn strlen ) ,

<DT><B>.Fn </B>\*qint align\*q \*qconst * char *sptrs\*q




<DD>
 
Fn int align const * char *sptrs ,

</DL>
<P>

<P>

It is an error to call
`.Fn without

'

any arguments.
The
`.Fn macro

'

is parsed and is callable,
note that any call to another macro signals the end of
the
`.Fn call

'

(it will close-parenthesis at that point).
<P>

For functions that have more than eight parameters (and this
is rare), the
macros
`.Fo (function

'

open)
and
`.Fc (function

'

close)
may be used with
`.Fa (function

'

argument)
to get around the limitation.
For example:

<BLOCKQUOTE>
<PRE>
.Fo &quot;int res_mkquery&quot;
.Fa &quot;int op&quot;
.Fa &quot;char *dname&quot;
.Fa &quot;int class&quot;
.Fa &quot;int type&quot;
.Fa &quot;char *data&quot;
.Fa &quot;int datalen&quot;
.Fa &quot;struct rrec *newrr&quot;
.Fa &quot;char *buf&quot;
.Fa &quot;int buflen&quot;
.Fc
</PRE>
</BLOCKQUOTE>

<P>

Produces:

<BLOCKQUOTE>

Fo int res_mkquery

Fa int op

Fa char *dname

Fa int class

Fa int type

Fa char *data

Fa int datalen

Fa struct rrec *newrr

Fa char *buf

Fa int buflen

Fc </BLOCKQUOTE>



<P>

The
`.Fo and

'

`.Fc macros

'

are parsed and are callable.
In the
Sx SYNOPSIS

section, the function will always begin at
the beginning of line.
If there is more than one function
presented in the
Sx SYNOPSIS

section and a function type has not been
given, a line break will occur, leaving a nice vertical space
between the current function name and the one prior.
At the moment,
`.Fn does

'

not check its word boundaries
against troff line lengths and may split across a newline
ungracefully.
This will be fixed in the near future.
<A NAME="lbBE">&nbsp;</A>
<H3>Function Type</H3>

This macro is intended for the
Sx SYNOPSIS

section.
It may be used
anywhere else in the man page without problems, but its main purpose
is to present the function type in kernel normal form for the
Sx SYNOPSIS

of sections two and three
(it causes a line break allowing the function name to appear
on the next line).
<P>


<BLOCKQUOTE><TT>Usage: .Ft </TT>type ... [ .,:;()[]?! ]

</BLOCKQUOTE>
<DL COMPACT>
<P>

<DT><B>.Ft </B>struct stat




<DD>
Ft struct stat

</DL>
<P>

<P>

The
`.Ft request

'

is not callable by other macros.
<A NAME="lbBF">&nbsp;</A>
<H3>Interactive Commands</H3>

The
`.<B>macro</B>

'

designates an interactive or internal command.
<P>


<BLOCKQUOTE><TT>Usage: .</TT><B>argument ... [ .,:;()[]?! ]</B>

</BLOCKQUOTE>
<DL COMPACT>
<P>

<DT><B>.:wq</B>




<DD>
<B>:wq</B>

<DT><B>.do while {...}</B>




<DD>
<B>do while {...}</B>

<DT><B>.setenv&nbsp;, unsetenv</B>




<DD>
<B>setenv , unsetenv</B>

</DL>
<P>

<P>

It is an error to call
`.<B>without</B>

'

arguments.
The
`.<B>macro</B>

'

is parsed and is callable.
<A NAME="lbBG">&nbsp;</A>
<H3>Name Macro</H3>

The
`.<B>man mdoc.samples</B>

'

macro
is used for the document title or subject name.
It has the peculiarity of remembering the first
argument it was called with, which should
always be the subject name of the page.
When called without
arguments,
`.<B>man mdoc.samples</B>

'

regurgitates
this initial name for the sole purpose
of making less work for the author.
Note:
a section two
or three document function name is addressed with the
`.<B>man mdoc.samples</B>

'

in
the
Sx NAME

section, and with
`.Fn in

'

the
Sx SYNOPSIS

and remaining sections.
For interactive commands, such as the
`while'

command keyword in
<A HREF="../man1/csh.1.html">csh</A>(1),


the
`.<B>macro</B>

'

should be used.
While the
`.<B>is</B>

'

nearly identical
to
`.<B>man mdoc.samples</B>

'

 
it can not recall the first argument it was invoked with.
<P>


<BLOCKQUOTE><TT>Usage: .</TT><B>argument ... [ .,:;()[]?! ]</B>

</BLOCKQUOTE>
<DL COMPACT>
<P>

<DT><B>.mdoc.sample</B>




<DD>
<B>mdoc.sample</B>

<DT><B>.\-mdoc</B>




<DD>
<B>-mdoc</B>

 
<DT><B>.foo&nbsp;)&nbsp;),</B>




<DD>
<B>foo ) )</B>

 
<DT><B>.man mdoc.samples</B>




<DD>
<B>man mdoc.samples</B>


</DL>
<P>

<P>

The
`.<B>man mdoc.samples</B>

'

macro
is parsed and is callable.
<A NAME="lbBH">&nbsp;</A>
<H3>Options</H3>

The
`.[macro]

'

places option brackets around the any remaining arguments on the command
line, and places any
trailing punctuation outside the brackets.
The macros
`.]
'

and
`.[may
'

be used across one or more lines.
<P>


<BLOCKQUOTE><TT>Usage: .</TT>[options ... [ .,:;()[]?! ]]

</BLOCKQUOTE>
<DL COMPACT>
<P>

<DT><B>.</B>[[<DT><B>.</B>[-<B>k</B>

]




<DD>
]

]




<DD>
[-<B>k</B>

]

<DT><B>.</B>[-<B>k ) .</B>

]




<DD>
[-<B>k</B>

 ]

 
<DT><B>.</B>[-<B>k </B><I>kookfile</I>



]




<DD>
[-<B>k </B><I>kookfile</I>



]

<DT><B>.</B>[-<B>k </B><I>kookfile ,</I>



]




<DD>
[-<B>k </B><I>kookfile</I>



]

 
<DT><B>.</B>[<I>objfil </I>[<I>corfil</I>

]



]




<DD>
[<I>objfil </I>[<I>corfil</I>

]



]

<DT><B>.</B>[-<B>c </B><I>objfil </I>[<I>corfil ,</I>

]





]




<DD>
[-<B>c </B><I>objfil </I>[<I>corfil</I>

]





]

 
<DT><B>.</B>[word1 word2]




<DD>
[word1 word2]

</DL>
<P>

<P>

The
`.]
'

and
`.[macros:
'


<BLOCKQUOTE>
<PRE>
.Oo
.Op Fl k Ar kilobytes
.Op Fl i Ar interval
.Op Fl c Ar count
.Oc
</PRE>
</BLOCKQUOTE>

<P>

Produce:
[[-<B>k </B><I>kilobytes</I>



]


[-<B>i </B><I>interval</I>



]

[-<B>c </B><I>count</I>



]

]
<P>

The macros
`.[,]

'

`.]
'

and
`.[are
'

parsed and are callable.
<A NAME="lbBI">&nbsp;</A>
<H3>Pathnames</H3>

The
`.macro

'

formats pathnames or filenames.
<P>


<BLOCKQUOTE><TT>Usage: .pathname [ .,:;()[]?! ]

</TT></BLOCKQUOTE>
<DL COMPACT>
<P>

<DT><B>./usr/share

</B>


<DD>
/usr/share

<DT><B>./tmp/fooXXXXX&nbsp;)

</B>


<DD>
/tmp/fooXXXXX )

 
</DL>
<P>

<P>

The
`.macro

'

is parsed and is callable.
<A NAME="lbBJ">&nbsp;</A>
<H3>Variables</H3>

Generic variable reference:
<P>


<BLOCKQUOTE><TT>Usage: .</TT><I>variable ... [ .,:;()[]?! ]</I>

</BLOCKQUOTE>
<DL COMPACT>
<P>

<DT><B>.</B><I>count</I>




<DD>
<I>count</I>

<DT><B>.</B><I>settimer</I>




<DD>
 
<I>settimer</I>

 
<DT><B>.</B><I>int&nbsp;*prt&nbsp;):</I>




<DD>
<I>int&nbsp;*prt )</I>

 
<DT><B>.</B><I>char&nbsp;s&nbsp;]&nbsp;)&nbsp;),</I>




<DD>
<I>char&nbsp;s ] ) )</I>

 
</DL>
<P>

<P>

It is an error to call
`.<I>without</I>

'

any arguments.
The
`.<I>macro</I>

'

is parsed and is callable.
<A NAME="lbBK">&nbsp;</A>
<H3>Manual Page Cross References</H3>

The
`.macro

'

expects the first argument to be
a manual page name, and the second argument, if it exists,
to be either a section page number or punctuation.
Any
remaining arguments are assumed to be punctuation.
<P>


<BLOCKQUOTE><TT>Usage: .man_page[1,...,8][ .,:;()[]?! ]

</TT></BLOCKQUOTE>
<DL COMPACT>
<P>

<DT><B>.mdoc

</B>


<DD>
mdoc


<DT><B>.mdoc

</B>


<DD>
 
mdoc,


<DT><B><A HREF="../man7/.mdoc.7.html">.mdoc</A>(7)

</B>


<DD>
<A HREF="../man7/mdoc.7.html">mdoc</A>(7)


<DT><B><A HREF="../man7/.mdoc.7.html">.mdoc</A>(7)))

</B>


<DD>
 
<A HREF="../man7/mdoc.7.html">mdoc</A>(7))),


</DL>
<P>

<P>

The
`.macro

'

is parsed and is callable.
It is an error to call
`.without

'

any arguments.
<A NAME="lbBL">&nbsp;</A>
<H2>GENERAL TEXT DOMAIN</H2>

<A NAME="lbBM">&nbsp;</A>
<H3>AT&amp;T Macro</H3>


<BLOCKQUOTE>
<PRE>
Usage: .At [v6 | v7 | 32v | V.1 | V.4] ... [ .,:;()[]?! ]
</PRE>
</BLOCKQUOTE>

<DL COMPACT>
<P>

<DT><B>.At</B>


<DD>
AT&amp;T System

<DT><B>.AT&amp;T System
v6 .</B>


<DD>
AT&amp;T System
v6 .
</DL>
<P>

<P>

The
`.AT&amp;T System
'

macro
is
<I>not</I>

parsed and
<I>not</I>

callable
It accepts at most two arguments.
<A NAME="lbBN">&nbsp;</A>
<H3>BSD Macro</H3>


<BLOCKQUOTE><TT>Usage: .BSD [Version/release] ... [ .,:;()[]?! ]
</TT></BLOCKQUOTE>
<DL COMPACT>
<P>

<DT><B>.Bx</B>


<DD>
BSD <DT><B>.BSD 4.3 .
</B>


<DD>

BSD 4.3
 
</DL>
<P>

<P>

The
`.BSD macro
'

is parsed and is callable.
<A NAME="lbBO">&nbsp;</A>
<H3>FreeBSD Macro</H3>


<BLOCKQUOTE>
<PRE>
Usage: .Fx Version.release ... [ .,:;()[]?! ]
</PRE>
</BLOCKQUOTE>

<DL COMPACT>
<P>

<DT><B>.Fx </B>2.2 .




<DD>
Fx 2.2 .

</DL>
<P>

<P>

The
`.Fx macro

'

is
<I>not</I>

parsed and
<I>not</I>

callable
It accepts at most two arguments.
<A NAME="lbBP">&nbsp;</A>
<H3>UNIX Macro</H3>


<BLOCKQUOTE><TT>Usage: .UNIX
</TT></BLOCKQUOTE>
<DL COMPACT>
<P>

<DT><B>.Ux</B>


<DD>
UNIX
</DL>
<P>

<P>

The
`.UNIX
'

macro
is parsed and is callable.
<A NAME="lbBQ">&nbsp;</A>
<H3>Enclosure and Quoting Macros</H3>

The concept of enclosure is similar to quoting.
The object being to enclose one or more strings between
a pair of characters like quotes or parentheses.
The terms quoting and enclosure are used
interchangeably throughout this document.
Most of the
one line enclosure macros end
in small letter
`q'

to give a hint of quoting, but there are a few irregularities.
For each enclosure macro
there is also a pair of open and close macros which end
in small letters
`o'

and
`c'

respectively.
These can be used across one or more lines of text
and while they have nesting limitations, the one line quote macros
can be used inside
of them.
<P>



<BLOCKQUOTE>

<DL COMPACT>
<P>

<I> Quote<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT> Close<TT>&nbsp;&nbsp;</TT> Open<TT>&nbsp;&nbsp;&nbsp;</TT>Function<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>Result</I>

.Aq<TT>&nbsp;&nbsp;&nbsp;&nbsp;</TT>.Ac<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>.Ao<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>Angle Bracket Enclosure&lt;string&gt;<BR>
.Bq<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>.Bc<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>.Bo<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>Bracket Enclosure<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>[string]<BR>
.Dq<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>.Dc<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>.Do<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>Double Quote<TT>&nbsp;&nbsp;&nbsp;&nbsp;</TT>``string''<BR>
<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>.Ec<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>.Eo<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>Enclose String (in XX)<TT>&nbsp;&nbsp;</TT>XXstringXX<BR>
.Pq<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>.Pc<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>.Po<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>Parenthesis Enclosure<TT>&nbsp;&nbsp;&nbsp;</TT>(string)<BR>
.Ql<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>Quoted Literal<TT>&nbsp;&nbsp;</TT>`st' or string<BR>
.Qq<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>.Qc<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>.Qo<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>Straight Double Quote<TT>&nbsp;&nbsp;&nbsp;</TT>&quot;string&quot;<BR>
.Sq<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>.Sc<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>.So<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>Single Quote<TT>&nbsp;&nbsp;&nbsp;&nbsp;</TT>`string'<BR>
</DL>
<P>

</BLOCKQUOTE>

<P>

Except for the irregular macros noted below, all
of the quoting macros are parsed and callable.
All handle punctuation properly, as long as it
is presented one character at a time and separated by spaces.
The quoting macros examine opening and closing punctuation
to determine whether it comes before or after the
enclosing string
This makes some nesting possible.
<DL COMPACT>
<P>

<DT><B>.Ec </B>, .Eo These macros expect the first argument to be the






<DD>
opening and closing strings respectively.
<DT><B>.`The'

</B>


<DD>
quoted literal macro behaves differently for
troff


than
nroff.


If formatted with
nroff,


a quoted literal is always quoted.
If formatted with
troff, an item is quoted only if the width
of the item is less than three constant width characters.
This is to make short strings more visible where the font change
to literal (constant width) is less noticeable.
<DT><B>.The prefix macro is not callable, but it is parsed:

</B>


<DD>
<DL COMPACT>
<P>

<DT><B>.( Fa </B>name2






<DD>
becomes
( Fa name2



 
</DL>
<P>

<P>

The
`.<B>(no</B>

'

space) macro performs the analogous suffix function.
</DL>
<P>

<P>


Examples of quoting:
<DL COMPACT>
<P>

<DT><B>.Aq </B>Aq <DT><B>.Aq </B><I>ctype.h&nbsp;),</I>






<DD>







<DD>
Aq Ar ctype.h ) ,

<DT><B>.Bq </B>Bq <DT><B>.Bq </B><I>Greek , French .</I>






<DD>







<DD>
Bq Em Greek , French .

<DT><B>.````<DT>.``string abc .''

</B>


<DD>
''

''




<DD>
``string abc''

 
<DT><B>.``'^[A-Z]'''

</B>


<DD>
``'^[A-Z]'''

<DT><B>.`man'

</B>


<DD>
mdoc
`man'

mdoc
<DT><B>.Qq </B>Qq <DT><B>.Qq </B>string ) ,




<DD>







<DD>
Qq string ) ,

<DT><B>.Qq </B>string <B>),</B>






<DD>
Qq string Ns ),

<DT><B>.``<DT>.`string'

</B>


<DD>
'

'




<DD>
`string'

</DL>
<P>

<P>

For a good example of nested enclosure macros, see the
`.[option]

'

macro.
It was created from the same
underlying enclosure macros as those presented in the list
above.
The
`.
'

and
`.
'

extended
argument list macros
were also built from the same underlying routines and are a good
example of
<B>-mdoc</B>

macro usage at its worst.
<A NAME="lbBR">&nbsp;</A>
<H3>No-[or Normal Text Macro]

</H3>

The macro
`.<B>is</B>

'

a hack for words in a macro command line which should
<I>not</I>

be formatted and follows the conventional syntax
for content macros.
<A NAME="lbBS">&nbsp;</A>
<H3><B>Space Macro</B>

</H3>

The
`.<B>macro</B>

'

eliminates unwanted spaces in between macro requests.
It is useful for old style argument lists where there is no space
between the flag and argument:
<DL COMPACT>
<P>

<DT><B>.</B>[-<B>I </B><I>directory</I>





]




<DD>
produces
[-<B>I </B><I>directory</I>





]

</DL>
<P>

<P>

Note: the
`.<B>macro</B>

'

always invokes the
`.<B>macro</B>

'

after eliminating the space unless another macro name
follows it.
The macro
`.<B>is</B>

'

parsed and is callable.
<A NAME="lbBT">&nbsp;</A>
<H3>Section Cross References</H3>

The
`.Sx macro

'

designates a reference to a section header
within the same document.
It is parsed and is callable.
<P>

<DL COMPACT>
<P>

<DT><B>.Sx </B>FILES




<DD>
Sx FILES

</DL>
<P>

<A NAME="lbBU">&nbsp;</A>
<H3>References and Citations</H3>

The following macros make a modest attempt to handle references.
At best, the macros make it convenient to manually drop in a subset of
refer style references.
<P>

<DL COMPACT>
<P>

<DT><B>.Rs</B>


<DD>
Reference Start.
Causes a line break and begins collection
of reference information until the
reference end macro is read.
<DT><B>.Re</B>


<DD>
Reference End.
The reference is printed.
<DT><B>.%A</B>


<DD>
Reference author name, one name per invocation.
<DT><B>.%B</B>


<DD>
Book title.
<DT><B>.%C</B>


<DD>
City/place.
<DT><B>.%D</B>


<DD>
Date.
<DT><B>.%J</B>


<DD>
Journal name.
<DT><B>.%N</B>


<DD>
Issue number.
<DT><B>.%O</B>


<DD>
Optional information.
<DT><B>.%P</B>


<DD>
Page number.
<DT><B>.%R</B>


<DD>
Report name.
<DT><B>.%T</B>


<DD>
Title of article.
<DT><B>.%V</B>


<DD>
Volume(s).
</DL>
<P>

<P>

The macros beginning with
`%'

are not callable, and are parsed only for the trade name macro which
returns to its caller.
(And not very predictably at the moment either.)
The purpose is to allow trade names
to be pretty printed in
troffNs/NsXrditroff


output.
<A NAME="lbBV">&nbsp;</A>
<H3>Return Values</H3>

The
`.Rv macro

'

generates text for use in the
Sx RETURN VALUE

section.
<P>


<BLOCKQUOTE><TT>Usage: .Rv </TT>[-std function]

</BLOCKQUOTE>
<P>

`.Rv -std

'

atexit
will generate the following text:
<P>




Rv -std atexit




<P>

The
-<B>std</B>

option is valid only for manual page sections 2 and 3.
<A NAME="lbBW">&nbsp;</A>
<H3>Trade Names (or Acronyms and Type Names)</H3>

The trade name macro is generally a small caps macro for
all uppercase words longer than two characters.
<P>


<BLOCKQUOTE><TT>Usage: .</TT><B>symbol ... [ .,:;()[]?! ]</B>

</BLOCKQUOTE>
<DL COMPACT>
<P>

<DT><B>.DEC</B>




<DD>
<B>DEC</B>

<DT><B>.ASCII</B>




<DD>
<B>ASCII</B>

</DL>
<P>

<P>

The
`.<B>macro</B>

'

is parsed and is callable by other macros.
<A NAME="lbBX">&nbsp;</A>
<H3>Extended  Arguments</H3>

The
`.
'

and
`.
'

macros
allow one to extend an argument list
on a macro boundary.
Argument lists cannot
be extended within a macro
which expects all of its arguments on one line such
as
`.[]

'

<P>

Here is an example of
`.
'

using
the space mode macro to turn spacing off:

<BLOCKQUOTE>
<PRE>
.Sm off
.It Xo Sy I Ar operation
.No \en Ar count No \en
.Xc
.Sm on
</PRE>
</BLOCKQUOTE>

<P>

Produces

<BLOCKQUOTE>

<DL COMPACT>
<P>


<DT><B>
I </B><I>operation</I>





<B>\n </B><I>count </I><B>\n</B>





<DD>


</DL>
<P>

</BLOCKQUOTE>

<P>

<DD>Another one:

<BLOCKQUOTE>
<PRE>
.Sm off
.It Cm S No / Ar old_pattern Xo
.No / Ar new_pattern
.No / Op Cm g
.Xc
.Sm on
</PRE>
</BLOCKQUOTE>

<P>

Produces

<BLOCKQUOTE>

<DL COMPACT>
<P>


<DT><B>S / </B><I>old_pattern 
</I>







<B>/ </B><I>new_pattern</I>



<B>/ </B>[<B>g</B>

]



<DD>


</DL>
<P>

</BLOCKQUOTE>

<P>

<DD>Another example of
`.
'

and
using enclosure macros:
Test the value of a variable.

<BLOCKQUOTE>
<PRE>
.It Xo
.Ic .ifndef
.Oo \&amp;! Oc Ns Ar variable
.Op Ar operator variable ...
.Xc
</PRE>
</BLOCKQUOTE>

<P>

Produces

<BLOCKQUOTE>

<DL COMPACT>
<P>

<DT><B>
</B>

<B>.ifndef</B>

[! <B></B><I>variable</I>



]

[<I>operator variable ...</I>

]

<DD>

</DL>
<P>

</BLOCKQUOTE>

<P>

<DD>All of the above examples have used the
`.
'

macro
on the argument list of the
`.
'

(list-item)
macro.
The extend macros are not used very often, and when they are
it is usually to extend the list-item argument list.
Unfortunately, this is also where the extend macros are the
most finicky.
In the first two examples, spacing was turned off;
in the third, spacing was desired in part of the output but
not all of it.
To make these macros work in this situation make sure
the
`.
'

and
`.
'

macros
are placed as shown in the third example.
If the
`.
'

macro
is not alone on the
`.
'

argument
list, spacing will be unpredictable.
The
`.<B>(no</B>

'

space macro)
must not occur as the first or last macro on a line
in this situation.
Out of 900 manual pages (about 1500 actual pages)
currently released with
BSD only fifteen use the
`.
'

macro.
<A NAME="lbBY">&nbsp;</A>
<H2>PAGE STRUCTURE DOMAIN</H2>

<A NAME="lbBZ">&nbsp;</A>
<H3>Section Headers</H3>

The first three
`.<A NAME="lbCA">&nbsp;</A>
<H2>section</H2>

'

header macros
list below are required in every
man page.
The remaining section headers
are recommended at the discretion of the author
writing the manual page.
The
`.<A NAME="lbCB">&nbsp;</A>
<H2>macro</H2>

'

can take up to nine arguments.
It is parsed and but is not callable.
<DL COMPACT>
<P>

<DT><B>.</DL>
</DL>
</B><A NAME="lbCC">&nbsp;</A>
<H2>NAME</H2>



<DD>The
`.<A NAME="lbCD">&nbsp;</A>
<H2>NAME</H2>

'

macro is mandatory.
If not specified,
the headers, footers and page layout defaults
will not be set and things will be rather unpleasant.
The
Sx NAME

section consists of at least three items.
The first is the
`.<B>man mdoc.samples</B>

'

name
macro naming the subject of the man page.
The second is the Name Description macro,
`. - ,

'

which separates the subject
name from the third item, which is the description.
The
description should be the most terse and lucid possible,
as the space available is small.

.Sh SYNOPSIS
The
Sx SYNOPSIS

section describes the typical usage of the
subject of a man page.
The macros required
are either
`.Nm'

,
`.Cd'

,
`.Fn'

,
(and possibly
`.Fo'

,
`.Fc'

,
`.Fd'

,
`.Ft'

macros).
The function name
macro
`.Fn'

is required
for manual page sections 2 and 3, the command and general
name macro
`.<B>man mdoc.samples</B>

'

is
required for sections 1, 5, 6, 7, 8.
Section 4 manuals require a
`.Nm'

,
`.Fd'

or a
`.Cd'

configuration device usage macro.
Several other macros may be necessary to produce
the synopsis line as shown below:
<P>

<P>


<BLOCKQUOTE>

<B>cat</B>

[-<B>benstuv</B>

]

[-

]

<I>file ...</I>


</BLOCKQUOTE>

<P>

The following macros were used:
<P>


<BLOCKQUOTE><TT>.</TT><B>cat</B>

</BLOCKQUOTE>

<BLOCKQUOTE><TT>.</TT>[-<B>benstuv</B>

]

</BLOCKQUOTE>

<BLOCKQUOTE><TT>.</TT>[-

]

</BLOCKQUOTE>

<BLOCKQUOTE><TT>.</TT><I>file ...</I>

</BLOCKQUOTE>
<P>

<B>Note</B>

 
The macros
`.[,]

'

`.-

'

 
and
`.<I>file ...</I>

'

recognize
the pipe bar character
`|'

 
so a command line such as:
<P>


<BLOCKQUOTE><TT>&quot;.</TT>[-<B>a | -b</B>



]

</BLOCKQUOTE>
<P>

will not go orbital.
Troff


normally interprets a | as a special operator.
See
Sx PREDEFINED STRINGS

for a usable |
character in other situations.
<DL COMPACT>
<P>

<DT><B>.</DL>
</DL>
</B><A NAME="lbCE">&nbsp;</A>
<H2>DESCRIPTION</H2>



<DD>In most cases the first text in the
Sx DESCRIPTION

section
is a brief paragraph on the command, function or file,
followed by a lexical list of options and respective
explanations.
To create such a list, the
`.<DL COMPACT>
<P>

'

begin-list,
`.<DT><B>list-item</B>

'

<DD>and
`.</DL>
<P>

'

end-list
macros are used (see
Sx Lists and Columns

below).
<P>

<P>

The following
`.<A NAME="lbCF">&nbsp;</A>
<H2>section</H2>

'

headers are part of the
preferred manual page layout and must be used appropriately
to maintain consistency.
They are listed in the order
in which they would be used.
<DL COMPACT>
<P>

<DT><B>.</DL>
</DL>
</B><A NAME="lbCG">&nbsp;</A>
<H2>ENVIRONMENT</H2>



<DD>The
Sx ENVIRONMENT

section should reveal any related
environment
variables and clues to their behavior and/or usage.

.Sh EXAMPLES
There are several ways to create examples.
See
the
Sx EXAMPLES

section below
for details.

.Sh FILES
Files which are used or created by the man page subject
should be listed via the
`.macro

'

in the
Sx FILES

section.

.Sh SEE ALSO
References to other material on the man page topic and
cross references to other relevant man pages should
be placed in the
Sx SEE ALSO

section.
Cross references
are specified using the
`.macro.

'

Cross references in the
Sx SEE ALSO

section should be sorted by section number, and then
placed in alphabetical order and comma separated.  For example:
<P>

<A HREF="../man1/ls.1.html">ls</A>(1),


<A HREF="../man1/ps.1.html">ps</A>(1),


<A HREF="../man5/group.5.html">group</A>(5),


<A HREF="../man5/passwd.5.html">passwd</A>(5).


<P>

At this time
<A HREF="../man1/refer.1.html">refer</A>(1)


style references are not accommodated.

.Sh CONFORMING TO
If the command, library function or file adheres to a
specific implementation such as
St -p1003.2

or
St -ansiC

this should be noted here.
If the
command does not adhere to any standard, its history
should be noted in the
Sx HISTORY

section.

.Sh HISTORY
Any command which does not adhere to any specific standards
should be outlined historically in this section.

.Sh AUTHORS
Credits, if need be, should be placed here.

.Sh DIAGNOSTICS
Diagnostics from a command should be placed in this section.

.Sh ERRORS
Specific error handling, especially from library functions
(man page sections 2 and 3) should go here.
The
`.Er macro

'

is used to specify an errno.

.Sh BUGS
Blatant problems with the topic go here...
<P>

<P>

User specified
`.<A NAME="lbCH">&nbsp;</A>
<H2>sections</H2>

'

may be added,
for example, this section was set with:

<PRE>
.Sh PAGE STRUCTURE DOMAIN
</PRE>

<A NAME="lbCI">&nbsp;</A>
<H3>Paragraphs and Line Spacing.</H3>

<DL COMPACT>
<P>

<DT><B>.<P>

</B>

<DD>The
`.<P>

'

paragraph
command may
be used to specify a line space where necessary.
The macro is not necessary after a
`.</DL>
</DL>
<A NAME="lbCJ">&nbsp;</A>
<H2>or</H2>

'

`.<A NAME="lbCK">&nbsp;</A>
<H3>macro</H3>

'

or before
a
`.<DL COMPACT>
<P>

'

macro.
(The
`.<DL COMPACT>
<P>

'

macro
asserts a vertical distance unless the -compact flag is given).
</DL>
<P>























































































































</DL>
</DL>
<A NAME="lbCL">&nbsp;</A>
<H3>Keeps</H3>

The only keep that is implemented at this time is for words.
The macros are
`.(begin-keep)

'

and
`.(end-keep).

'

The only option that
`.accepts

'

is
-<B>words</B>

and is useful for preventing line breaks in the middle of options.
In the example for the make command-line arguments (see
Sx What's in a name ) ,

the keep prevented
nroff


from placing up the
flag and the argument
on separate lines.
(Actually, the option macro used to prevent this from occurring,
but was dropped when the decision (religious) was made to force
right justified margins in
troff


as options in general look atrocious when spread across a sparse
line.
More work needs to be done with the keep macros, a
-<B>line</B>

option needs to be added.)
<A NAME="lbCM">&nbsp;</A>
<H3>Examples and Displays</H3>

There are five types of displays, a quickie one line indented display
`.D1'

,
a quickie one line literal display
`.
<BLOCKQUOTE><TT>,</TT></BLOCKQUOTE>
'

and a block literal, block filled and block ragged which use
the
`.

'

begin-display
and
`.
'

end-display
macros.
<P>

<DL COMPACT>
<P>

<DT><B>.D1</B>



(D-one) Display one line of indented text.
<DD>This macro is parsed, but it is not callable.
<P>


<BLOCKQUOTE><TT>-</TT><B>ldghfstru</B>

</BLOCKQUOTE>
<P>

The above was produced by:
<B>.
<BLOCKQUOTE></B><TT>-</TT><B>ldghfstru</B>

</BLOCKQUOTE>


 
<DT><B>.
<BLOCKQUOTE></B><TT>(D-ell)</TT></BLOCKQUOTE>




<DD>Display one line of indented
<I>literal</I>

text.
The
`.
<BLOCKQUOTE><TT>example</TT></BLOCKQUOTE>
'

macro has been used throughout this
file.
It allows
the indent (display) of one line of text.
Its default font is set to
constant width (literal) however
it is parsed and will recognized other macros.
It is not callable however.
<P>


<BLOCKQUOTE><TT>% ls -ldg /usr/local/bin</TT></BLOCKQUOTE>
<P>

The above was produced by
<B>.
<BLOCKQUOTE></B><TT>% ls -ldg /usr/local/bin</TT></BLOCKQUOTE>


 
<DT><B>.

</B>



<DD>Begin-display.
The
`.

'

display
must be ended with the
`.
'

macro.
Displays may be nested within displays and
lists.
`.

'

has
the following syntax:
<P>


<BLOCKQUOTE><TT>&quot;.

</TT></BLOCKQUOTE>
<P>

The display-type must be one of the following four types and
may have an offset specifier for indentation:
`.

'

 
</DL>
<P>

<P>

<DL COMPACT>
<P>

<DT><B>-ragged</B>



<DD>Display a block of text as typed,
right (and left) margin edges are left ragged.
<DT><B>-filled</B>



<DD>Display a filled (formatted) block.
The block of text is formatted (the edges are filled -
not left unjustified).
<DT><B>-literal</B>



<DD>Display a literal block, useful for source code or
simple tabbed or spaced text.
<DT><B>-file </B><I>file_name</I>





<DD>The filename following the
-<B>file</B>

flag is read and displayed.
Literal mode is
asserted and tabs are set at 8 constant width character
intervals, however any
troff/NsNm-mdoc


commands in file will be processed.
<DT><B>-offset </B><I>string</I>





<DD>If
-<B>offset</B>

is specified with one of the following strings, the string
is interpreted to indicate the level of indentation for the
forthcoming block of text:
<P>

<DL COMPACT>
<P>

<DT><B></B><I>left</I>



<DD>Align block on the current left margin,
this is the default mode of
`.

'

 
<DT><B></B><I>center</I>



<DD>Supposedly center the block.
At this time
unfortunately, the block merely gets
left aligned about an imaginary center margin.
<DT><B></B><I>indent</I>



<DD>Indents by one default indent value or tab.
The default
indent value is also used for the
`.D1'

display so one is guaranteed the two types of displays
will line up.
This indent is normally set to 6n or about two
thirds of an inch (six constant width characters).
<DT><B></B><I>indent-two</I>



<DD>Indents two times the default indent value.
<DT><B></B><I>right</I>



<DD>This
<I>left</I>

aligns the block about two inches from
the right side of the page.
This macro needs
work and perhaps may never do the right thing by
troff.


</DL>
<P>

<DT><B>&quot;.Ed&quot;</B>

<DD>End-display.
</DL>
<P>

<A NAME="lbCN">&nbsp;</A>
<H3>Font Modes</H3>

There are five macros for changing the appearance of the manual page text:
<DL COMPACT>
<P>

<DT><B>.</B><I>Text may be stressed or emphasized with the</I>



`.<I><DD>macro.</I>

'

The usual font for emphasis is italic.
<P>


<BLOCKQUOTE><TT>Usage: .</TT><I>argument ... [ .,:;()[]?! ]</I>

</BLOCKQUOTE>
<DL COMPACT>
<P>

<DT><B>.</B><I>does not</I>





<I>does not</I>

<DT><B>.</B><I>exceed 1024 .</I>





<I>exceed 1024</I>

 
<DT><B>.</B><I>vide infra ) ) ,</I>





<I>vide infra ) )</I>

 
</DL>
<P>

<P>

<DD>The
`.<I>macro</I>

'

is parsed and is callable.
It is an error to call
`.<I>without</I>

'

arguments.
<DT><B>.The</B>



`.<B><DD>literal</B>

'

macro may be used for special characters,
variable constants, anything which should be displayed as it
would be typed.
<P>


<BLOCKQUOTE><TT>Usage: .</TT><B>argument ... [ .,:;()[]?! ]</B>

</BLOCKQUOTE>
<DL COMPACT>
<P>

<DT><B>.\en</B>





<B>\n</B>

<DT><B>.M1 M2 M3;</B>





<B>M1 M2 M3</B>

 
<DT><B>.cntrl-D&nbsp;),</B>





<B>cntrl-D )</B>

 
<DT><B>.1024&nbsp;...</B>





<B>1024 ...</B>

</DL>
<P>

<P>

<DD>The
`.<B>macro</B>

'

is parsed and is callable.
<DT><B>.The symbolic emphasis macro is generally a boldface macro in</B>



<DD>either the symbolic sense or the traditional English usage.
<P>


<BLOCKQUOTE><TT>Usage: .</TT><B>symbol ... [ .,:;()[]?! ]</B>

</BLOCKQUOTE>
<DL COMPACT>
<P>

<DT><B>.Important Notice</B>





<B>Important Notice</B>

<P>

<DD>The
`.<B>macro</B>

'

is parsed and is callable.
Arguments to
`.<B>may</B>

'

be quoted.
</DL>
<P>

<DT><B>.Bf </B>Begin font mode.





<DD>The
`.Bf font

'

mode must be ended with the
`.Ef macro.

'

Font modes may be nested within other font modes.
`.Bf has

'

the following syntax:
<P>


<BLOCKQUOTE><TT>&quot;.Bf </TT>font-mode

</BLOCKQUOTE>
<P>

The font-mode must be one of the following three types:
`.Bf 

'

<P>

<DL COMPACT>
<P>

<DT><B></B><I>| -</I><B>emphasis</B>







<DD>Same as if the
`.<I>macro</I>

'

was used for the entire block of text.
<DT><B>| -literal</B>







<DD>Same as if the
`.<B>macro</B>

'

was used for the entire block of text.
<DT><B>| -symbolic</B>







<DD>Same as if the
`.<B>macro</B>

'

was used for the entire block of text.
</DL>
<P>

<DT><B>&quot;.Ef&quot;</B>

<DD>End font mode.
</DL>
<P>

<A NAME="lbCO">&nbsp;</A>
<H3>Tagged Lists and Columns</H3>

There are several types of lists which may be initiated with the
`.Bl'

begin-list macro.
Items within the list
are specified with the
`.It'

item macro and
each list must end with the
`.El'

macro.
Lists may be nested within themselves and within displays.
Columns may be used inside of lists, but lists are unproven
inside of columns.
<P>

In addition, several list attributes may be specified such as
the width of a tag, the list offset, and compactness
(blank lines between items allowed or disallowed).
Most of this document has been formatted with a tag style list
(-<B>tag</B>

)

 
For a change of pace, the list-type used to present the list-types
is an over-hanging list
(-<B>ohang</B>

)

 
This type of list is quite popular with
<B>TeX</B>

users, but might look a bit funny after having read many pages of
tagged lists.
The following list types are accepted by
`.Bl'

:
<P>

<DL COMPACT>
<P>

<DT><B>-bullet</B>



<DT><B>-item</B>



<DT><B>-enum</B>



<DD>These three are the simplest types of lists.
Once the
`.Bl'

macro has been given, items in the list are merely
indicated by a line consisting solely of the
`.It'

macro.
For example, the source text for a simple enumerated list
would look like:

<BLOCKQUOTE>
<PRE>
.Bl -enum -compact
.It
Item one goes here.
.It
And item two here.
.It
Lastly item three goes here.
.El
</PRE>
</BLOCKQUOTE>

</DL>
<P>

<P>

The results:
<P>

<OL><P>

<LI>

Item one goes here.
<LI>

And item two here.
<LI>

Lastly item three goes here.
</OL><P>

<P>

A simple bullet list construction:

<BLOCKQUOTE>
<PRE>
.Bl -bullet -compact
.It
Bullet one goes here.
.It
Bullet two here.
.El
</PRE>
</BLOCKQUOTE>

<P>

Produces:
<UL><P>

<LI>

Bullet one goes here.
<LI>

Bullet two here.
</UL><P>

<P>

<DL COMPACT>
<P>

<DT><B>-tag</B>



<DT><B>-diag</B>



<DT><B>-hang</B>



<DT><B>-ohang</B>



<DT><B>-inset</B>



<DD>These list-types collect arguments specified with the
`.<DT><B>macro</B>

'

<DD>and create a label which may be
<I>inset</I>

into the forthcoming text,
<I>hanged</I>

from the forthcoming text,
<I>overhanged</I>

from above and not indented or
<I>tagged</I>

 
This
list was constructed with the
`-<B>ohang</B>

'

list-type.
The
`.<DT><B>macro</B>

'

<DD>is parsed only for the inset, hang
and tag list-types and is not callable.
Here is an example of inset labels:
</DL>
<P>

<DL COMPACT>
<P>

<DT><B></B><I>Tag</I>



<DD>The tagged list (also called a tagged paragraph) is the
most common type of list used in the Berkeley manuals.
<DT><B></B><I>Diag</I>



<DD>Diag lists create section four diagnostic lists
and are similar to inset lists except callable
macros are ignored.
<DT><B></B><I>Hang</I>



<DD>Hanged labels are a matter of taste.
<DT><B></B><I>Ohang</I>



<DD>Overhanging labels are nice when space is constrained.
<DT><B></B><I>Inset</I>



<DD>Inset labels are useful for controlling blocks of
paragraphs and are valuable for converting
<B>-mdoc</B>

manuals to other formats.
</DL>
<P>

<P>

Here is the source text which produced the above example:

<BLOCKQUOTE>
<PRE>
.Bl -inset -offset indent
.It Em Tag
The tagged list (also called a tagged paragraph) is the
most common type of list used in the Berkeley manuals.
.It Em Diag
Diag lists create section four diagnostic lists
and are similar to inset lists except callable
macros are ignored.
.It Em Hang
Hanged labels are a matter of taste.
.It Em Ohang
Overhanging labels are nice when space is constrained.
.It Em Inset
Inset labels are useful for controlling blocks of
paragraphs and are valuable for converting
.Nm -mdoc
manuals to other formats.
.El
</PRE>
</BLOCKQUOTE>

<P>

Here is a hanged list with two items:
<DL COMPACT>
<P>

<DT><B></B><I>Hanged</I>



<DD>labels appear similar to tagged lists when the
label is smaller than the label width.
<DT><B></B><I>Longer hanged list labels</I>



<DD>blend in to the paragraph unlike
tagged paragraph labels.
</DL>
<P>

<P>

And the unformatted text which created it:

<BLOCKQUOTE>
<PRE>
.Bl -hang -offset indent
.It Em Hanged
labels appear similar to tagged lists when the
label is smaller than the label width.
.It Em Longer hanged list labels
blend in to the paragraph unlike
tagged paragraph labels.
.El
</PRE>
</BLOCKQUOTE>

<P>

The tagged list which follows uses an optional width specifier to control
the width of the tag.
<P>

<DL COMPACT>
<P>

<DT><B>SL</B>

<DD>sleep time of the process (seconds blocked)
<DT><B>PAGEIN</B>

<DD>number of disk
<B>I/O 's</B>



resulting from references
by the process to pages not loaded in core.
<DT><B>UID</B>

<DD>numerical user-id of process owner
<DT><B>PPID</B>

<DD>numerical ID of parent of process process priority
(nonpositive when in noninterruptible wait)
</DL>
<P>

<P>

The raw text:

<BLOCKQUOTE>
<PRE>
.Bl -tag -width &quot;PAGEIN&quot; -compact -offset indent
.It SL
sleep time of the process (seconds blocked)
.It PAGEIN
number of disk
.Tn I/O Ns 's
resulting from references
by the process to pages not loaded in core.
.It UID
numerical user ID of process owner
.It PPID
numerical ID of parent of process process priority
(nonpositive when in noninterruptible wait)
.El
</PRE>
</BLOCKQUOTE>

<P>

Acceptable width specifiers:
<DL COMPACT>
<P>

<DT><B>-width </B><I>Fl</I>





<DD>sets the width to the default width for a flag.
All callable
macros have a default width value.
The
`.-

'

 
value is presently
set to ten constant width characters or about five sixth of
an inch.
<DT><B>-width </B><I>24n</I>





<DD>sets the width to 24 constant width characters or about two
inches.
The
`n'

is absolutely necessary for the scaling to work correctly.
<DT><B>-width </B><I>ENAMETOOLONG</I>





<DD>sets width to the constant width length of the
string given.
<DT><B>-width  </B><I>\*qint mkfifo\*q</I>





<DD>again, the width is set to the constant width of the string
given.
</DL>
<P>

<P>

If a width is not specified for the tag list type, the first
time
`.
'

is
invoked, an attempt is made to determine an appropriate
width.
If the first argument to
`.It'

is a callable macro, the default width for that macro will be used
as if the macro name had been supplied as the width.
However,
if another item in the list is given with a different callable
macro name, a new and nested list is assumed.
<A NAME="lbCP">&nbsp;</A>
<H2>PREDEFINED STRINGS</H2>

The following strings are predefined as may be used by
preceding with the troff string interpreting sequence
`\*(xx'

where
<I>xx</I>

is the name of the defined string or as
`\*x'

where
<I>x</I>

is the name of the string.
The interpreting sequence may be used any where in the text.
<P>

<DL COMPACT>
<P>

<DT><B>String<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>Nroff<TT>&nbsp;&nbsp;&nbsp;</TT>Troff</B>



<DT><B>&lt;= Ta </B>&lt;= Ta &lt;=







<DT><B>&gt;= Ta </B>&gt;= Ta &gt=;







<DT><B>Rq Ta </B>'' Ta &rdquo;







<DT><B>Lq Ta </B>`` Ta &ldquo;







<DT><B>ua Ta </B>^ Ta ^







<DT><B>aa Ta </B>' Ta '







<DT><B>ga Ta </B>` Ta `









<DT><B>q Ta </B> Ta &quot;







<DT><B>Pi Ta </B>pi Ta Pi







<DT><B>Ne Ta </B>!= Ta !=







<DT><B>Le Ta </B>&lt;= Ta &lt;=







<DT><B>Ge Ta </B>&gt;= Ta &gt=;







<DT><B>Lt Ta </B>&lt; Ta &gt;







<DT><B>Gt Ta </B>&gt; Ta &lt;







<DT><B>Pm Ta </B>+- Ta &plusmn;







<DT><B>If Ta </B>infinity Ta &infin;







<DT><B>Na Ta </B><I>NaN</I> Ta NaN







<DT><B>Ba Ta </B>| Ta |







</DL>
<P>

<P>

<B>Note</B>

 <BR>
<DD>The string named
`q'

should be written as
`\*q'

since it is only one char.
<A NAME="lbCQ">&nbsp;</A>
<H2>DIAGNOSTICS</H2>

The debugging facilities for
<B>-mdoc</B>

are limited, but can help detect subtle errors such
as the collision of an argument name with an internal
register or macro name.
(A what?)
A register is an arithmetic storage class for
troff


with a one or two character name.
All registers internal to
<B>-mdoc</B>

for
troff


and
ditroff


are two characters and
of the form &lt;upper_case&gt;&lt;lower_case&gt; such as
`<I>file ...</I>

'

 
&lt;lower_case&gt;&lt;upper_case&gt; as
`aR'

or
&lt;upper or lower letter&gt;&lt;digit&gt; as
`C1'

And adding to the muddle,
troff


has its own internal registers all of which are either
two lowercase characters or a dot plus a letter or metacharacter
character.
In one of the introduction examples, it was shown how to
prevent the interpretation of a macro name with the escape sequence
`\&amp;'

This is sufficient for the internal register names also.
<P>


















If a nonescaped register name is given in the argument list of a request,
unpredictable behavior will occur.
In general, any time huge portions
of text do not appear where expected in the output, or small strings
such as list tags disappear, chances are there is a misunderstanding
about an argument type in the argument list.
Your mother never intended for you to remember this evil stuff - so here
is a way to find out whether or not your arguments are valid: The
`.Db (debug)

'

macro displays the interpretation of the argument list for most
macros.
Macros such as the
`.<P>

'

(paragraph)
macro do not contain debugging information.
All of the callable macros do,
and it is strongly advised whenever in doubt,
turn on the
`.Db macro.

'

<P>


<BLOCKQUOTE><TT>Usage: .Db </TT>[on | off]

</BLOCKQUOTE>
<P>

An example of a portion of text with
the debug macro placed above and below an
artificially created problem (a flag argument
`aC'

which should be
`\&amp;aC'

in order to work):

<BLOCKQUOTE>
<PRE>
.Db on
.Op Fl aC Ar file )
.Db off
</PRE>
</BLOCKQUOTE>

<P>

The resulting output:

<BLOCKQUOTE>
<PRE>
DEBUGGING ON
DEBUG(argv) MACRO: `.Op'  Line #: 2
        Argc: 1  Argv: `Fl'  Length: 2
        Space: `'  Class: Executable
        Argc: 2  Argv: `aC'  Length: 2
        Space: `'  Class: Executable
        Argc: 3  Argv: `Ar'  Length: 2
        Space: `'  Class: Executable
        Argc: 4  Argv: `file'  Length: 4
        Space: ` '  Class: String
        Argc: 5  Argv: `)'  Length: 1
        Space: ` '  Class: Closing Punctuation or suffix
        MACRO REQUEST: .Op Fl aC Ar file )
DEBUGGING OFF
</PRE>
</BLOCKQUOTE>

<P>

The first line of information tells the name of the calling
macro, here
`.[,]

'

and the line number it appears on.
If one or more files are involved
(especially if text from another file is included), the line number
may be bogus.
If there is only one file, it should be accurate.
The second line gives the argument count, the argument
(`-

'

)

and
its length.
If the length of an argument is two characters, the
argument is tested to see if it is executable (unfortunately, any
register which contains a nonzero value appears executable).
The third line gives the space allotted for a class, and the
class type.
The problem here is the argument aC should not be
executable.
The four types of classes are string, executable, closing
punctuation and opening punctuation.
The last line shows the entire
argument list as it was read.
In this next example, the offending
`aC'

is escaped:

<BLOCKQUOTE>
<PRE>
.Db on
.Em An escaped \&amp;aC
.Db off
</PRE>
</BLOCKQUOTE>


<BLOCKQUOTE>
<PRE>
DEBUGGING ON
DEBUG(fargv) MACRO: `.Em'  Line #: 2
        Argc: 1  Argv: `An'  Length: 2
        Space: ` '  Class: String
        Argc: 2  Argv: `escaped'  Length: 7
        Space: ` '  Class: String
        Argc: 3  Argv: `aC'  Length: 2
        Space: ` '  Class: String
        MACRO REQUEST: .Em An escaped &amp;aC
DEBUGGING OFF
</PRE>
</BLOCKQUOTE>

<P>

The argument
`\&amp;aC'

shows up with the same length of 2 as the
`\&amp;'

sequence produces a zero width, but a register
named
`\&amp;aC'

was not found and the type classified as string.
<P>

Other diagnostics consist of usage statements and are self explanatory.
<A NAME="lbCR">&nbsp;</A>
<H2>GROFF, TROFF AND NROFF</H2>

The
<B>-mdoc</B>

package does not need compatibility mode with
groff.


<P>

The package inhibits page breaks, and the headers and footers
which normally occur at those breaks with
nroff,


to make the manual more efficient for viewing on-line.
At the moment,
groff


with
-<B>T </B><I>ascii</I>





does eject the imaginary remainder of the page at end of file.
The inhibiting of the page breaks makes
nroffNs'd


files unsuitable for hardcopy.
There is a register named
`cR'

which can be set to zero in the site dependent style file
/usr/src/share/tmac/doc-nroff

to restore the old style behavior.
<A NAME="lbCS">&nbsp;</A>
<H2>FILES</H2>

<DL COMPACT>
<P>

<DT><B>/usr/share/tmac/doc.tmac

</B>

<DD>manual macro package
<DT><B>/usr/share/misc/mdoc.template

</B>

<DD>template for writing a man page
<DT><B>/usr/share/examples/mdoc/*

</B>

<DD>several example man pages
</DL>
<P>

<A NAME="lbCT">&nbsp;</A>
<H2>BUGS</H2>

Undesirable hyphenation on the dash of a flag
argument is not yet resolved, and causes
occasional mishaps in the
Sx DESCRIPTION

section.
(line break on the hyphen).
<P>

Predefined strings are not declared in documentation.
<P>

Section 3f has not been added to the header routines.
<P>

`.<B>man mdoc.samples</B>

'

font
should be changed in
Sx NAME

section.
<P>

`.Fn needs

'

to have a check to prevent splitting up
if the line length is too short.
Occasionally it
separates the last parenthesis, and sometimes
looks ridiculous if a line is in fill mode.
<P>

The method used to prevent header and footer page
breaks (other than the initial header and footer) when using
nroff occasionally places an unsightly partially filled line (blank)
at the would be bottom of the page.
<P>

The list and display macros to not do any keeps
and certainly should be able to.






































<A NAME="lbCU">&nbsp;</A>
<H2>SEE ALSO</H2>

<A HREF="../man1/man.1.html">man</A>(1),


<A HREF="../man1/troff.1.html">troff</A>(1),


groff_mdoc7,


<A HREF="../man7/mdoc.7.html">mdoc</A>(7)


<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT><A HREF="#lbAE">GETTING STARTED</A><DD>
<DT><A HREF="#lbAF">TROFF IDIOSYNCRASIES</A><DD>
<DL>
<DT><A HREF="#lbAG">Macro Usage</A><DD>
<DT><A HREF="#lbAH">Passing Space Characters in an Argument</A><DD>
<DT><A HREF="#lbAI">Trailing Blank Space Characters</A><DD>
<DT><A HREF="#lbAJ">Escaping Special Characters</A><DD>
</DL>
<DT><A HREF="#lbAK">THE ANATOMY OF A MAN PAGE</A><DD>
<DL>
<DT><A HREF="#lbAL">A manual page template</A><DD>
</DL>
<DT><A HREF="#lbAM">;</A><DD>
<DT><A HREF="#lbAN">TITLE MACROS</A><DD>
<DT><A HREF="#lbAO">INTRODUCTION OF MANUAL AND GENERAL TEXT DOMAINS</A><DD>
<DL>
<DT><A HREF="#lbAP">What's in a name...</A><DD>
<DT><A HREF="#lbAQ">General Syntax</A><DD>
</DL>
<DT><A HREF="#lbAR">MANUAL DOMAIN</A><DD>
<DL>
<DT><A HREF="#lbAS">Address Macro</A><DD>
<DT><A HREF="#lbAT">Author Name</A><DD>
<DT><A HREF="#lbAU">Argument Macro</A><DD>
<DT><A HREF="#lbAV">Configuration Declaration (section four only)</A><DD>
<DT><A HREF="#lbAW">Command Modifier</A><DD>
<DT><A HREF="#lbAX">Defined Variables</A><DD>
<DT><A HREF="#lbAY">Errno's (Section two only)</A><DD>
<DT><A HREF="#lbAZ">Environment Variables</A><DD>
<DT><A HREF="#lbBA">Function Argument</A><DD>
<DT><A HREF="#lbBB">Function Declaration</A><DD>
<DT><A HREF="#lbBC">Flags</A><DD>
<DT><A HREF="#lbBD">Functions (library routines)</A><DD>
<DT><A HREF="#lbBE">Function Type</A><DD>
<DT><A HREF="#lbBF">Interactive Commands</A><DD>
<DT><A HREF="#lbBG">Name Macro</A><DD>
<DT><A HREF="#lbBH">Options</A><DD>
<DT><A HREF="#lbBI">Pathnames</A><DD>
<DT><A HREF="#lbBJ">Variables</A><DD>
<DT><A HREF="#lbBK">Manual Page Cross References</A><DD>
</DL>
<DT><A HREF="#lbBL">GENERAL TEXT DOMAIN</A><DD>
<DL>
<DT><A HREF="#lbBM">AT&amp;T Macro</A><DD>
<DT><A HREF="#lbBN">BSD Macro</A><DD>
<DT><A HREF="#lbBO">FreeBSD Macro</A><DD>
<DT><A HREF="#lbBP">UNIX Macro</A><DD>
<DT><A HREF="#lbBQ">Enclosure and Quoting Macros</A><DD>
<DT><A HREF="#lbBR">No-Op or Normal Text Macro</A><DD>
<DT><A HREF="#lbBS">No Space Macro</A><DD>
<DT><A HREF="#lbBT">Section Cross References</A><DD>
<DT><A HREF="#lbBU">References and Citations</A><DD>
<DT><A HREF="#lbBV">Return Values</A><DD>
<DT><A HREF="#lbBW">Trade Names (or Acronyms and Type Names)</A><DD>
<DT><A HREF="#lbBX">Extended  Arguments</A><DD>
</DL>
<DT><A HREF="#lbBY">PAGE STRUCTURE DOMAIN</A><DD>
<DL>
<DT><A HREF="#lbBZ">Section Headers</A><DD>
</DL>
<DT><A HREF="#lbCA">section</A><DD>
<DT><A HREF="#lbCB">macro</A><DD>
<DT><A HREF="#lbCC">NAME</A><DD>
<DT><A HREF="#lbCD">NAME</A><DD>
<DT><A HREF="#lbCE">DESCRIPTION</A><DD>
<DT><A HREF="#lbCF">section</A><DD>
<DT><A HREF="#lbCG">ENVIRONMENT</A><DD>
<DT><A HREF="#lbCH">sections</A><DD>
<DL>
<DT><A HREF="#lbCI">Paragraphs and Line Spacing.</A><DD>
</DL>
<DT><A HREF="#lbCJ">or</A><DD>
<DL>
<DT><A HREF="#lbCK">macro</A><DD>
<DT><A HREF="#lbCL">Keeps</A><DD>
<DT><A HREF="#lbCM">Examples and Displays</A><DD>
<DT><A HREF="#lbCN">Font Modes</A><DD>
<DT><A HREF="#lbCO">Tagged Lists and Columns</A><DD>
</DL>
<DT><A HREF="#lbCP">PREDEFINED STRINGS</A><DD>
<DT><A HREF="#lbCQ">DIAGNOSTICS</A><DD>
<DT><A HREF="#lbCR">GROFF, TROFF AND NROFF</A><DD>
<DT><A HREF="#lbCS">FILES</A><DD>
<DT><A HREF="#lbCT">BUGS</A><DD>
<DT><A HREF="#lbCU">SEE ALSO</A><DD>
</DL>
<HR>
This document was created by
<A HREF="http://localhost/cgi-bin/man/man2html">man2html</A>,
using the manual pages.<BR>
Time: 03:36:13 GMT, April 20, 2020
</BODY>
</HTML>
